# Ollama DNS Fix - Quick Reference

## Problem
`ai.cihconsultingllc.com` points to Cloudflare instead of VPS
- Current IP: 172.67.171.212, 104.21.39.233 (Cloudflare)
- Should be: 109.199.118.38 (VPS)

## Solution (2 min + 5-30 min propagation)

### Cloudflare Dashboard Steps

1. **Login**: https://dash.cloudflare.com
2. **Select**: cihconsultingllc.com
3. **Go to**: DNS > Records
4. **Find**: ai or ai.cihconsultingllc.com
5. **Edit**:
   - Type: A
   - Name: ai
   - IPv4: `109.199.118.38`
   - Proxy: ‚ö™Ô∏è **DNS Only** (gray cloud, NOT orange)
6. **Save**

### Verify (after 5-30 min)

```bash
# Check DNS
dig +short ai.cihconsultingllc.com
# Should return: 109.199.118.38

# Test API
curl https://ai.cihconsultingllc.com/api/tags
# Should return: JSON with models

# Test chatbot
# Visit: https://cutting-edge-main-git-dev-jhazy33s-projects.vercel.app/
# Send: "Hello"
# Should get: AI response
```

## What Changed

| Before | After |
|--------|-------|
| 172.67.171.212 (Cloudflare) | 109.199.118.38 (VPS) |
| 104.21.39.233 (Cloudflare) | |
| Orange cloud üî∂ (proxied) | Gray cloud ‚ö™Ô∏è (DNS only) |

## Why Gray Cloud?

- Orange = Proxy (blocks port 11434)
- Gray = Direct DNS (allows any port)
- Ollama needs port 11434

## System Status

- ‚úÖ Ollama service: Running
- ‚úÖ Port 11434: Open
- ‚úÖ API: Responding
- ‚ùå DNS: Broken (this fix)

## Timeline

- 2 min: Edit DNS record
- 5-30 min: DNS propagation
- 37 min max: Total time

## Alternative (if no Cloudflare access)

Update chatbot `.env` file:
```bash
VITE_OLLAMA_API=http://109.199.118.38:11434
```

Not recommended (no SSL, security issues).

## Full Documentation

- Detailed report: `OLLAMA_DNS_FIX_REPORT.md`
- Visual guide: `OLLAMA_DNS_DIAGRAM.md`

## Quick Commands

```bash
# Test current DNS
dig +short ai.cihconsultingllc.com

# Test Ollama via IP
curl http://109.199.118.38:11434/api/tags

# Check Ollama status
ssh contabo-vps "docker ps | grep ollama"

# View Ollama logs
ssh contabo-vps "docker logs fabric_ollama --tail 50"
```

## Contact Info

- VPS IP: 109.199.118.38
- Ollama Port: 11434
- SSH: `ssh contabo-vps`
- Chatbot: https://cutting-edge-main-git-dev-jhazy33s-projects.vercel.app/

---

*Generated by DNS & Infrastructure Specialist*
