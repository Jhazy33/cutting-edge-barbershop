(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cu={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function Wv(){if(Fp)return cl;Fp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return cl.Fragment=t,cl.jsx=l,cl.jsxs=l,cl}var Jp;function jv(){return Jp||(Jp=1,cu.exports=Wv()),cu.exports}var Y=jv(),fu={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function e0(){if(Kp)return fe;Kp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,b={};function P(M,q,F){this.props=M,this.context=q,this.refs=b,this.updater=F||w}P.prototype.isReactComponent={},P.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},P.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=P.prototype;function k(M,q,F){this.props=M,this.context=q,this.refs=b,this.updater=F||w}var Q=k.prototype=new K;Q.constructor=k,L(Q,P.prototype),Q.isPureReactComponent=!0;var X=Array.isArray;function $(){}var O={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function Z(M,q,F){var j=F.ref;return{$$typeof:i,type:M,key:q,ref:j!==void 0?j:null,props:F}}function se(M,q){return Z(M.type,q,M.props)}function ye(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function Re(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(F){return q[F]})}var Ce=/\/+/g;function Pe(M,q){return typeof M=="object"&&M!==null&&M.key!=null?Re(""+M.key):q.toString(36)}function nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then($,$):(M.status="pending",M.then(function(q){M.status==="pending"&&(M.status="fulfilled",M.value=q)},function(q){M.status==="pending"&&(M.status="rejected",M.reason=q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,q,F,j,ue){var ee=typeof M;(ee==="undefined"||ee==="boolean")&&(M=null);var ie=!1;if(M===null)ie=!0;else switch(ee){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(M.$$typeof){case i:case t:ie=!0;break;case v:return ie=M._init,G(ie(M._payload),q,F,j,ue)}}if(ie)return ue=ue(M),ie=j===""?"."+Pe(M,0):j,X(ue)?(F="",ie!=null&&(F=ie.replace(Ce,"$&/")+"/"),G(ue,q,F,"",function(Ae){return Ae})):ue!=null&&(ye(ue)&&(ue=se(ue,F+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(Ce,"$&/")+"/")+ie)),q.push(ue)),1;ie=0;var pe=j===""?".":j+":";if(X(M))for(var ae=0;ae<M.length;ae++)j=M[ae],ee=pe+Pe(j,ae),ie+=G(j,q,F,ee,ue);else if(ae=C(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(j=M.next()).done;)j=j.value,ee=pe+Pe(j,ae++),ie+=G(j,q,F,ee,ue);else if(ee==="object"){if(typeof M.then=="function")return G(nt(M),q,F,j,ue);throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ie}function z(M,q,F){if(M==null)return M;var j=[],ue=0;return G(M,j,"","",function(ee){return q.call(F,ee,ue++)}),j}function ne(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(F){(M._status===0||M._status===-1)&&(M._status=1,M._result=F)},function(F){(M._status===0||M._status===-1)&&(M._status=2,M._result=F)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var we=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},xe={map:z,forEach:function(M,q,F){z(M,function(){q.apply(this,arguments)},F)},count:function(M){var q=0;return z(M,function(){q++}),q},toArray:function(M){return z(M,function(q){return q})||[]},only:function(M){if(!ye(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return fe.Activity=S,fe.Children=xe,fe.Component=P,fe.Fragment=l,fe.Profiler=r,fe.PureComponent=k,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,fe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return O.H.useMemoCache(M)}},fe.cache=function(M){return function(){return M.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(M,q,F){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var j=L({},M.props),ue=M.key;if(q!=null)for(ee in q.key!==void 0&&(ue=""+q.key),q)!ge.call(q,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&q.ref===void 0||(j[ee]=q[ee]);var ee=arguments.length-2;if(ee===1)j.children=F;else if(1<ee){for(var ie=Array(ee),pe=0;pe<ee;pe++)ie[pe]=arguments[pe+2];j.children=ie}return Z(M.type,ue,j)},fe.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},fe.createElement=function(M,q,F){var j,ue={},ee=null;if(q!=null)for(j in q.key!==void 0&&(ee=""+q.key),q)ge.call(q,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ue[j]=q[j]);var ie=arguments.length-2;if(ie===1)ue.children=F;else if(1<ie){for(var pe=Array(ie),ae=0;ae<ie;ae++)pe[ae]=arguments[ae+2];ue.children=pe}if(M&&M.defaultProps)for(j in ie=M.defaultProps,ie)ue[j]===void 0&&(ue[j]=ie[j]);return Z(M,ee,ue)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(M){return{$$typeof:g,render:M}},fe.isValidElement=ye,fe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ne}},fe.memo=function(M,q){return{$$typeof:h,type:M,compare:q===void 0?null:q}},fe.startTransition=function(M){var q=O.T,F={};O.T=F;try{var j=M(),ue=O.S;ue!==null&&ue(F,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then($,we)}catch(ee){we(ee)}finally{q!==null&&F.types!==null&&(q.types=F.types),O.T=q}},fe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},fe.use=function(M){return O.H.use(M)},fe.useActionState=function(M,q,F){return O.H.useActionState(M,q,F)},fe.useCallback=function(M,q){return O.H.useCallback(M,q)},fe.useContext=function(M){return O.H.useContext(M)},fe.useDebugValue=function(){},fe.useDeferredValue=function(M,q){return O.H.useDeferredValue(M,q)},fe.useEffect=function(M,q){return O.H.useEffect(M,q)},fe.useEffectEvent=function(M){return O.H.useEffectEvent(M)},fe.useId=function(){return O.H.useId()},fe.useImperativeHandle=function(M,q,F){return O.H.useImperativeHandle(M,q,F)},fe.useInsertionEffect=function(M,q){return O.H.useInsertionEffect(M,q)},fe.useLayoutEffect=function(M,q){return O.H.useLayoutEffect(M,q)},fe.useMemo=function(M,q){return O.H.useMemo(M,q)},fe.useOptimistic=function(M,q){return O.H.useOptimistic(M,q)},fe.useReducer=function(M,q,F){return O.H.useReducer(M,q,F)},fe.useRef=function(M){return O.H.useRef(M)},fe.useState=function(M){return O.H.useState(M)},fe.useSyncExternalStore=function(M,q,F){return O.H.useSyncExternalStore(M,q,F)},fe.useTransition=function(){return O.H.useTransition()},fe.version="19.2.3",fe}var Xp;function Lu(){return Xp||(Xp=1,fu.exports=e0()),fu.exports}var de=Lu();const t0=qh(de);var du={exports:{}},fl={},pu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function n0(){return Qp||(Qp=1,(function(i){function t(G,z){var ne=G.length;G.push(z);e:for(;0<ne;){var we=ne-1>>>1,xe=G[we];if(0<r(xe,z))G[we]=z,G[ne]=xe,ne=we;else break e}}function l(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var z=G[0],ne=G.pop();if(ne!==z){G[0]=ne;e:for(var we=0,xe=G.length,M=xe>>>1;we<M;){var q=2*(we+1)-1,F=G[q],j=q+1,ue=G[j];if(0>r(F,ne))j<xe&&0>r(ue,F)?(G[we]=ue,G[j]=ne,we=j):(G[we]=F,G[q]=ne,we=q);else if(j<xe&&0>r(ue,ne))G[we]=ue,G[j]=ne,we=j;else break e}}return z}function r(G,z){var ne=G.sortIndex-z.sortIndex;return ne!==0?ne:G.id-z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,S=null,E=3,C=!1,w=!1,L=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function Q(G){for(var z=l(h);z!==null;){if(z.callback===null)a(h);else if(z.startTime<=G)a(h),z.sortIndex=z.expirationTime,t(y,z);else break;z=l(h)}}function X(G){if(L=!1,Q(G),!w)if(l(y)!==null)w=!0,$||($=!0,Re());else{var z=l(h);z!==null&&nt(X,z.startTime-G)}}var $=!1,O=-1,ge=5,Z=-1;function se(){return b?!0:!(i.unstable_now()-Z<ge)}function ye(){if(b=!1,$){var G=i.unstable_now();Z=G;var z=!0;try{e:{w=!1,L&&(L=!1,K(O),O=-1),C=!0;var ne=E;try{t:{for(Q(G),S=l(y);S!==null&&!(S.expirationTime>G&&se());){var we=S.callback;if(typeof we=="function"){S.callback=null,E=S.priorityLevel;var xe=we(S.expirationTime<=G);if(G=i.unstable_now(),typeof xe=="function"){S.callback=xe,Q(G),z=!0;break t}S===l(y)&&a(y),Q(G)}else a(y);S=l(y)}if(S!==null)z=!0;else{var M=l(h);M!==null&&nt(X,M.startTime-G),z=!1}}break e}finally{S=null,E=ne,C=!1}z=void 0}}finally{z?Re():$=!1}}}var Re;if(typeof k=="function")Re=function(){k(ye)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Pe=Ce.port2;Ce.port1.onmessage=ye,Re=function(){Pe.postMessage(null)}}else Re=function(){P(ye,0)};function nt(G,z){O=P(function(){G(i.unstable_now())},z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(G){switch(E){case 1:case 2:case 3:var z=3;break;default:z=E}var ne=E;E=z;try{return G()}finally{E=ne}},i.unstable_requestPaint=function(){b=!0},i.unstable_runWithPriority=function(G,z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=E;E=G;try{return z()}finally{E=ne}},i.unstable_scheduleCallback=function(G,z,ne){var we=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?we+ne:we):ne=we,G){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ne+xe,G={id:v++,callback:z,priorityLevel:G,startTime:ne,expirationTime:xe,sortIndex:-1},ne>we?(G.sortIndex=ne,t(h,G),l(y)===null&&G===l(h)&&(L?(K(O),O=-1):L=!0,nt(X,ne-we))):(G.sortIndex=xe,t(y,G),w||C||(w=!0,$||($=!0,Re()))),G},i.unstable_shouldYield=se,i.unstable_wrapCallback=function(G){var z=E;return function(){var ne=E;E=z;try{return G.apply(this,arguments)}finally{E=ne}}}})(mu)),mu}var Zp;function i0(){return Zp||(Zp=1,pu.exports=n0()),pu.exports}var hu={exports:{}},yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function o0(){if($p)return yt;$p=1;var i=Lu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},yt.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},yt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},yt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},yt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},yt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},yt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,S=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},yt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},yt.requestFormReset=function(y){a.d.r(y)},yt.unstable_batchedUpdates=function(y,h){return y(h)},yt.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},yt.useFormStatus=function(){return p.H.useHostTransitionStatus()},yt.version="19.2.3",yt}var Wp;function l0(){if(Wp)return hu.exports;Wp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hu.exports=o0(),hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function a0(){if(jp)return fl;jp=1;var i=i0(),t=Lu(),l=l0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=m;else{for(var T=!1,_=d.child;_;){if(_===o){T=!0,o=d,s=m;break}if(_===s){T=!0,s=d,o=m;break}_=_.sibling}if(!T){for(_=m.child;_;){if(_===o){T=!0,o=m,s=d;break}if(_===s){T=!0,s=m,o=d;break}_=_.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),k=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Re(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case P:return"Profiler";case b:return"StrictMode";case X:return"Suspense";case $:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case k:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Pe(e.type)||"Memo";case ge:n=e._payload,e=e._init;try{return Pe(e(n))}catch{}}return null}var nt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},we=[],xe=-1;function M(e){return{current:e}}function q(e){0>xe||(e.current=we[xe],we[xe]=null,xe--)}function F(e,n){xe++,we[xe]=e.current,e.current=n}var j=M(null),ue=M(null),ee=M(null),ie=M(null);function pe(e,n){switch(F(ee,n),F(ue,e),F(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?mp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=mp(n),e=hp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(j),F(j,e)}function ae(){q(j),q(ue),q(ee)}function Ae(e){e.memoizedState!==null&&F(ie,e);var n=j.current,o=hp(n,e.type);n!==o&&(F(ue,e),F(j,o))}function ce(e){ue.current===e&&(q(j),q(ue)),ie.current===e&&(q(ie),al._currentValue=ne)}var ht,Ue;function Je(e){if(ht===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);ht=n&&n[1]||"",Ue=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+e+Ue}var Oe=!1;function ut(e,n){if(!e||Oe)return"";Oe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(U){var x=U}Reflect.construct(e,[],B)}else{try{B.call()}catch(U){x=U}e.call(B.prototype)}}else{try{throw Error()}catch(U){x=U}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(U){if(U&&x&&typeof U.stack=="string")return[U.stack,x.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),T=m[0],_=m[1];if(T&&_){var A=T.split(`
`),D=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===D.length)for(s=A.length-1,d=D.length-1;1<=s&&0<=d&&A[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==D[d]){var H=`
`+A[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=d);break}}}finally{Oe=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Je(o):""}function jt(e,n){switch(e.tag){case 26:case 27:case 5:return Je(e.type);case 16:return Je("Lazy");case 13:return e.child!==n&&n!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return ut(e.type,!1);case 11:return ut(e.type.render,!1);case 1:return ut(e.type,!0);case 31:return Je("Activity");default:return""}}function ot(e){try{var n="",o=null;do n+=jt(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var lt=Object.prototype.hasOwnProperty,Tt=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,gt=i.unstable_requestPaint,be=i.unstable_now,Un=i.unstable_getCurrentPriorityLevel,Fu=i.unstable_ImmediatePriority,Ju=i.unstable_UserBlockingPriority,yl=i.unstable_NormalPriority,bg=i.unstable_LowPriority,Ku=i.unstable_IdlePriority,Lg=i.log,Gg=i.unstable_setDisableYieldValue,vo=null,wt=null;function bn(e){if(typeof Lg=="function"&&Gg(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(vo,e)}catch{}}var xt=Math.clz32?Math.clz32:qg,Hg=Math.log,Vg=Math.LN2;function qg(e){return e>>>=0,e===0?32:31-(Hg(e)/Vg|0)|0}var vl=256,Tl=262144,Sl=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function El(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=li(s):(T&=_,T!==0?d=li(T):o||(o=_&~e,o!==0&&(d=li(o))))):(_=s&~m,_!==0?d=li(_):T!==0?d=li(T):o||(o=s&~e,o!==0&&(d=li(o)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,o=n&-n,m>=o||m===32&&(o&4194048)!==0)?n:d}function To(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var e=Sl;return Sl<<=1,(Sl&62914560)===0&&(Sl=4194304),e}function Wa(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function So(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pg(e,n,o,s,d,m){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(o=T&~o;0<o;){var H=31-xt(o),B=1<<H;_[H]=0,A[H]=-1;var x=D[H];if(x!==null)for(D[H]=null,H=0;H<x.length;H++){var U=x[H];U!==null&&(U.lane&=-536870913)}o&=~B}s!==0&&Qu(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(T&~n))}function Qu(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-xt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function Zu(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-xt(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function $u(e,n){var o=n&-n;return o=(o&42)!==0?1:ja(o),(o&(e.suspendedLanes|n))!==0?0:o}function ja(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function es(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wu(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:qp(e.type))}function ju(e,n){var o=z.p;try{return z.p=e,n()}finally{z.p=o}}var Ln=Math.random().toString(36).slice(2),ct="__reactFiber$"+Ln,Ct="__reactProps$"+Ln,Ri="__reactContainer$"+Ln,ts="__reactEvents$"+Ln,zg="__reactListeners$"+Ln,kg="__reactHandles$"+Ln,ec="__reactResources$"+Ln,Eo="__reactMarker$"+Ln;function ns(e){delete e[ct],delete e[Ct],delete e[ts],delete e[zg],delete e[kg]}function Mi(e){var n=e[ct];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Ri]||o[ct]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=_p(e);e!==null;){if(o=e[ct])return o;e=_p(e)}return n}e=o,o=e.parentNode}return null}function Ni(e){if(e=e[ct]||e[Ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _o(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ii(e){var n=e[ec];return n||(n=e[ec]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function at(e){e[Eo]=!0}var tc=new Set,nc={};function ai(e,n){Di(e,n),Di(e+"Capture",n)}function Di(e,n){for(nc[e]=n,e=0;e<n.length;e++)tc.add(n[e])}var Og=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},oc={};function Yg(e){return lt.call(oc,e)?!0:lt.call(ic,e)?!1:Og.test(e)?oc[e]=!0:(ic[e]=!0,!1)}function _l(e,n,o){if(Yg(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Cl(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function fn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fg(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,m.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function is(e){if(!e._valueTracker){var n=lc(e)?"checked":"value";e._valueTracker=Fg(e,n,""+e[n])}}function ac(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=lc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jg=/[\n"\\]/g;function kt(e){return e.replace(Jg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function os(e,n,o,s,d,m,T,_){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?ls(e,T,zt(n)):o!=null?ls(e,T,zt(o)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+zt(_):e.removeAttribute("name")}function sc(e,n,o,s,d,m,T,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){is(e);return}o=o!=null?""+zt(o):"",n=n!=null?""+zt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),is(e)}function ls(e,n,o){n==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function wi(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+zt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function rc(e,n,o){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+zt(o):""}function uc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(nt(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=zt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),is(e)}function xi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||Kg.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function fc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&cc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&cc(e,m,n[m])}function as(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(e){return Qg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function dn(){}var ss=null;function rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,bi=null;function dc(e){var n=Ni(e);if(n&&(e=n.stateNode)){var o=e[Ct]||null;e:switch(e=n.stateNode,n.type){case"input":if(os(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+kt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[Ct]||null;if(!d)throw Error(a(90));os(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&ac(s)}break e;case"textarea":rc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&wi(e,!!o.multiple,n,!1)}}}var us=!1;function pc(e,n,o){if(us)return e(n,o);us=!0;try{var s=e(n);return s}finally{if(us=!1,(Ui!==null||bi!==null)&&(da(),Ui&&(n=Ui,e=bi,bi=Ui=null,dc(n),e)))for(n=0;n<e.length;n++)dc(e[n])}}function Co(e,n){var o=e.stateNode;if(o===null)return null;var s=o[Ct]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(pn)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{cs=!1}var Gn=null,fs=null,Ml=null;function mc(){if(Ml)return Ml;var e,n=fs,o=n.length,s,d="value"in Gn?Gn.value:Gn.textContent,m=d.length;for(e=0;e<o&&n[e]===d[e];e++);var T=o-e;for(s=1;s<=T&&n[o-s]===d[m-s];s++);return Ml=d.slice(e,1<s?1-s:void 0)}function Nl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function hc(){return!1}function At(e){function n(o,s,d,m,T){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Il:hc,this.isPropagationStopped=hc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),n}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=At(si),Ro=S({},si,{view:0,detail:0}),Zg=At(Ro),ds,ps,Mo,wl=S({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mo&&(Mo&&e.type==="mousemove"?(ds=e.screenX-Mo.screenX,ps=e.screenY-Mo.screenY):ps=ds=0,Mo=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),gc=At(wl),$g=S({},wl,{dataTransfer:0}),Wg=At($g),jg=S({},Ro,{relatedTarget:0}),ms=At(jg),ey=S({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),ty=At(ey),ny=S({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iy=At(ny),oy=S({},si,{data:0}),yc=At(oy),ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=sy[e])?!!n[e]:!1}function hs(){return ry}var uy=S({},Ro,{key:function(e){if(e.key){var n=ly[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ay[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cy=At(uy),fy=S({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=At(fy),dy=S({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),py=At(dy),my=S({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),hy=At(my),gy=S({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yy=At(gy),vy=S({},si,{newState:0,oldState:0}),Ty=At(vy),Sy=[9,13,27,32],gs=pn&&"CompositionEvent"in window,No=null;pn&&"documentMode"in document&&(No=document.documentMode);var Ey=pn&&"TextEvent"in window&&!No,Tc=pn&&(!gs||No&&8<No&&11>=No),Sc=" ",Ec=!1;function _c(e,n){switch(e){case"keyup":return Sy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function _y(e,n){switch(e){case"compositionend":return Cc(n);case"keypress":return n.which!==32?null:(Ec=!0,Sc);case"textInput":return e=n.data,e===Sc&&Ec?null:e;default:return null}}function Cy(e,n){if(Li)return e==="compositionend"||!gs&&_c(e,n)?(e=mc(),Ml=fs=Gn=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Tc&&n.locale!=="ko"?null:n.data;default:return null}}var Ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ay[e.type]:n==="textarea"}function Rc(e,n,o,s){Ui?bi?bi.push(s):bi=[s]:Ui=s,n=Ta(n,"onChange"),0<n.length&&(o=new Dl("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Io=null,Do=null;function Ry(e){rp(e,0)}function xl(e){var n=_o(e);if(ac(n))return e}function Mc(e,n){if(e==="change")return n}var Nc=!1;if(pn){var ys;if(pn){var vs="oninput"in document;if(!vs){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),vs=typeof Ic.oninput=="function"}ys=vs}else ys=!1;Nc=ys&&(!document.documentMode||9<document.documentMode)}function Dc(){Io&&(Io.detachEvent("onpropertychange",wc),Do=Io=null)}function wc(e){if(e.propertyName==="value"&&xl(Do)){var n=[];Rc(n,Do,e,rs(e)),pc(Ry,n)}}function My(e,n,o){e==="focusin"?(Dc(),Io=n,Do=o,Io.attachEvent("onpropertychange",wc)):e==="focusout"&&Dc()}function Ny(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(Do)}function Iy(e,n){if(e==="click")return xl(n)}function Dy(e,n){if(e==="input"||e==="change")return xl(n)}function wy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ut=typeof Object.is=="function"?Object.is:wy;function wo(e,n){if(Ut(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!lt.call(n,d)||!Ut(e[d],n[d]))return!1}return!0}function xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uc(e,n){var o=xc(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xc(o)}}function bc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Al(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Al(e.document)}return n}function Ts(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xy=pn&&"documentMode"in document&&11>=document.documentMode,Gi=null,Ss=null,xo=null,Es=!1;function Gc(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Es||Gi==null||Gi!==Al(s)||(s=Gi,"selectionStart"in s&&Ts(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xo&&wo(xo,s)||(xo=s,s=Ta(Ss,"onSelect"),0<s.length&&(n=new Dl("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Gi)))}function ri(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Hi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},_s={},Hc={};pn&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function ui(e){if(_s[e])return _s[e];if(!Hi[e])return e;var n=Hi[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Hc)return _s[e]=n[o];return e}var Vc=ui("animationend"),qc=ui("animationiteration"),Bc=ui("animationstart"),Uy=ui("transitionrun"),by=ui("transitionstart"),Ly=ui("transitioncancel"),Pc=ui("transitionend"),zc=new Map,Cs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cs.push("scrollEnd");function en(e,n){zc.set(e,n),ai(n,[e])}var Ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ot=[],Vi=0,As=0;function bl(){for(var e=Vi,n=As=Vi=0;n<e;){var o=Ot[n];Ot[n++]=null;var s=Ot[n];Ot[n++]=null;var d=Ot[n];Ot[n++]=null;var m=Ot[n];if(Ot[n++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}m!==0&&kc(o,d,m)}}function Ll(e,n,o,s){Ot[Vi++]=e,Ot[Vi++]=n,Ot[Vi++]=o,Ot[Vi++]=s,As|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rs(e,n,o,s){return Ll(e,n,o,s),Gl(e)}function ci(e,n){return Ll(e,null,null,n),Gl(e)}function kc(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,m=e.return;m!==null;)m.childLanes|=o,s=m.alternate,s!==null&&(s.childLanes|=o),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-xt(o),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),m):null}function Gl(e){if(50<jo)throw jo=0,Lr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var qi={};function Gy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,n,o,s){return new Gy(e,n,o,s)}function Ms(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,n){var o=e.alternate;return o===null?(o=bt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Oc(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hl(e,n,o,s,d,m){var T=0;if(s=e,typeof e=="function")Ms(e)&&(T=1);else if(typeof e=="string")T=Pv(e,o,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=bt(31,o,n,d),e.elementType=Z,e.lanes=m,e;case L:return fi(o.children,d,m,n);case b:T=8,d|=24;break;case P:return e=bt(12,o,n,d|2),e.elementType=P,e.lanes=m,e;case X:return e=bt(13,o,n,d),e.elementType=X,e.lanes=m,e;case $:return e=bt(19,o,n,d),e.elementType=$,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:T=10;break e;case K:T=9;break e;case Q:T=11;break e;case O:T=14;break e;case ge:T=16,s=null;break e}T=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=bt(T,o,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function fi(e,n,o,s){return e=bt(7,e,s,n),e.lanes=o,e}function Ns(e,n,o){return e=bt(6,e,null,n),e.lanes=o,e}function Yc(e){var n=bt(18,null,null,0);return n.stateNode=e,n}function Is(e,n,o){return n=bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fc=new WeakMap;function Yt(e,n){if(typeof e=="object"&&e!==null){var o=Fc.get(e);return o!==void 0?o:(n={value:e,source:n,stack:ot(n)},Fc.set(e,n),n)}return{value:e,source:n,stack:ot(n)}}var Bi=[],Pi=0,Vl=null,Uo=0,Ft=[],Jt=0,Hn=null,sn=1,rn="";function hn(e,n){Bi[Pi++]=Uo,Bi[Pi++]=Vl,Vl=e,Uo=n}function Jc(e,n,o){Ft[Jt++]=sn,Ft[Jt++]=rn,Ft[Jt++]=Hn,Hn=e;var s=sn;e=rn;var d=32-xt(s)-1;s&=~(1<<d),o+=1;var m=32-xt(n)+d;if(30<m){var T=d-d%5;m=(s&(1<<T)-1).toString(32),s>>=T,d-=T,sn=1<<32-xt(n)+d|o<<d|s,rn=m+e}else sn=1<<m|o<<d|s,rn=e}function Ds(e){e.return!==null&&(hn(e,1),Jc(e,1,0))}function ws(e){for(;e===Vl;)Vl=Bi[--Pi],Bi[Pi]=null,Uo=Bi[--Pi],Bi[Pi]=null;for(;e===Hn;)Hn=Ft[--Jt],Ft[Jt]=null,rn=Ft[--Jt],Ft[Jt]=null,sn=Ft[--Jt],Ft[Jt]=null}function Kc(e,n){Ft[Jt++]=sn,Ft[Jt++]=rn,Ft[Jt++]=Hn,sn=n.id,rn=n.overflow,Hn=e}var ft=null,ze=null,_e=!1,Vn=null,Kt=!1,xs=Error(a(519));function qn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bo(Yt(n,e)),xs}function Xc(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[ct]=e,n[Ct]=s,o){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(o=0;o<tl.length;o++)Te(tl[o],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),sc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),uc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||dp(n.textContent,o)?(s.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),s.onScroll!=null&&Te("scroll",n),s.onScrollEnd!=null&&Te("scrollend",n),s.onClick!=null&&(n.onclick=dn),n=!0):n=!1,n||qn(e,!0)}function Qc(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ft=ft.return}}function zi(e){if(e!==ft)return!1;if(!_e)return Qc(e),_e=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Qr(e.type,e.memoizedProps)),o=!o),o&&ze&&qn(e),Qc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ze=Ep(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ze=Ep(e)}else n===27?(n=ze,Wn(e.type)?(e=eu,eu=null,ze=e):ze=n):ze=ft?Qt(e.stateNode.nextSibling):null;return!0}function di(){ze=ft=null,_e=!1}function Us(){var e=Vn;return e!==null&&(It===null?It=e:It.push.apply(It,e),Vn=null),e}function bo(e){Vn===null?Vn=[e]:Vn.push(e)}var bs=M(null),pi=null,gn=null;function Bn(e,n,o){F(bs,n._currentValue),n._currentValue=o}function yn(e){e._currentValue=bs.current,q(bs)}function Ls(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Gs(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){m.lanes|=o,_=m.alternate,_!==null&&(_.lanes|=o),Ls(m.return,o,e),s||(T=null);break e}m=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(a(341));T.lanes|=o,m=T.alternate,m!==null&&(m.lanes|=o),Ls(T,o,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function ki(e,n,o,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var _=d.type;Ut(d.pendingProps.value,T.value)||(e!==null?e.push(_):e=[_])}}else if(d===ie.current){if(T=d.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}d=d.return}e!==null&&Gs(n,e,o,s),n.flags|=262144}function ql(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mi(e){pi=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return Zc(pi,e)}function Bl(e,n){return pi===null&&mi(e),Zc(e,n)}function Zc(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},gn===null){if(e===null)throw Error(a(308));gn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else gn=gn.next=n;return o}var Hy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Vy=i.unstable_scheduleCallback,qy=i.unstable_NormalPriority,We={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hs(){return{controller:new Hy,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&Vy(qy,function(){e.controller.abort()})}var Go=null,Vs=0,Oi=0,Yi=null;function By(e,n){if(Go===null){var o=Go=[];Vs=0,Oi=Pr(),Yi={status:"pending",value:void 0,then:function(s){o.push(s)}}}return Vs++,n.then($c,$c),n}function $c(){if(--Vs===0&&Go!==null){Yi!==null&&(Yi.status="fulfilled");var e=Go;Go=null,Oi=0,Yi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Py(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var Wc=G.S;G.S=function(e,n){Hd=be(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&By(e,n),Wc!==null&&Wc(e,n)};var hi=M(null);function qs(){var e=hi.current;return e!==null?e:Be.pooledCache}function Pl(e,n){n===null?F(hi,hi.current):F(hi,n.pool)}function jc(){var e=qs();return e===null?null:{parent:We._currentValue,pool:e}}var Fi=Error(a(460)),Bs=Error(a(474)),zl=Error(a(542)),kl={then:function(){}};function ef(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(dn,dn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,of(e),e;default:if(typeof n.status=="string")n.then(dn,dn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,of(e),e}throw yi=n,Fi}}function gi(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(yi=o,Fi):o}}var yi=null;function nf(){if(yi===null)throw Error(a(459));var e=yi;return yi=null,e}function of(e){if(e===Fi||e===zl)throw Error(a(483))}var Ji=null,Ho=0;function Ol(e){var n=Ho;return Ho+=1,Ji===null&&(Ji=[]),tf(Ji,e,n)}function Vo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lf(e){function n(N,R){if(e){var I=N.deletions;I===null?(N.deletions=[R],N.flags|=16):I.push(R)}}function o(N,R){if(!e)return null;for(;R!==null;)n(N,R),R=R.sibling;return null}function s(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function d(N,R){return N=mn(N,R),N.index=0,N.sibling=null,N}function m(N,R,I){return N.index=I,e?(I=N.alternate,I!==null?(I=I.index,I<R?(N.flags|=67108866,R):I):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function T(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function _(N,R,I,V){return R===null||R.tag!==6?(R=Ns(I,N.mode,V),R.return=N,R):(R=d(R,I),R.return=N,R)}function A(N,R,I,V){var oe=I.type;return oe===L?H(N,R,I.props.children,V,I.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ge&&gi(oe)===R.type)?(R=d(R,I.props),Vo(R,I),R.return=N,R):(R=Hl(I.type,I.key,I.props,null,N.mode,V),Vo(R,I),R.return=N,R)}function D(N,R,I,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=Is(I,N.mode,V),R.return=N,R):(R=d(R,I.children||[]),R.return=N,R)}function H(N,R,I,V,oe){return R===null||R.tag!==7?(R=fi(I,N.mode,V,oe),R.return=N,R):(R=d(R,I),R.return=N,R)}function B(N,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ns(""+R,N.mode,I),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return I=Hl(R.type,R.key,R.props,null,N.mode,I),Vo(I,R),I.return=N,I;case w:return R=Is(R,N.mode,I),R.return=N,R;case ge:return R=gi(R),B(N,R,I)}if(nt(R)||Re(R))return R=fi(R,N.mode,I,null),R.return=N,R;if(typeof R.then=="function")return B(N,Ol(R),I);if(R.$$typeof===k)return B(N,Bl(N,R),I);Yl(N,R)}return null}function x(N,R,I,V){var oe=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return oe!==null?null:_(N,R,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return I.key===oe?A(N,R,I,V):null;case w:return I.key===oe?D(N,R,I,V):null;case ge:return I=gi(I),x(N,R,I,V)}if(nt(I)||Re(I))return oe!==null?null:H(N,R,I,V,null);if(typeof I.then=="function")return x(N,R,Ol(I),V);if(I.$$typeof===k)return x(N,R,Bl(N,I),V);Yl(N,I)}return null}function U(N,R,I,V,oe){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return N=N.get(I)||null,_(R,N,""+V,oe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return N=N.get(V.key===null?I:V.key)||null,A(R,N,V,oe);case w:return N=N.get(V.key===null?I:V.key)||null,D(R,N,V,oe);case ge:return V=gi(V),U(N,R,I,V,oe)}if(nt(V)||Re(V))return N=N.get(I)||null,H(R,N,V,oe,null);if(typeof V.then=="function")return U(N,R,I,Ol(V),oe);if(V.$$typeof===k)return U(N,R,I,Bl(R,V),oe);Yl(R,V)}return null}function W(N,R,I,V){for(var oe=null,Me=null,te=R,he=R=0,Ee=null;te!==null&&he<I.length;he++){te.index>he?(Ee=te,te=null):Ee=te.sibling;var Ne=x(N,te,I[he],V);if(Ne===null){te===null&&(te=Ee);break}e&&te&&Ne.alternate===null&&n(N,te),R=m(Ne,R,he),Me===null?oe=Ne:Me.sibling=Ne,Me=Ne,te=Ee}if(he===I.length)return o(N,te),_e&&hn(N,he),oe;if(te===null){for(;he<I.length;he++)te=B(N,I[he],V),te!==null&&(R=m(te,R,he),Me===null?oe=te:Me.sibling=te,Me=te);return _e&&hn(N,he),oe}for(te=s(te);he<I.length;he++)Ee=U(te,N,he,I[he],V),Ee!==null&&(e&&Ee.alternate!==null&&te.delete(Ee.key===null?he:Ee.key),R=m(Ee,R,he),Me===null?oe=Ee:Me.sibling=Ee,Me=Ee);return e&&te.forEach(function(ii){return n(N,ii)}),_e&&hn(N,he),oe}function le(N,R,I,V){if(I==null)throw Error(a(151));for(var oe=null,Me=null,te=R,he=R=0,Ee=null,Ne=I.next();te!==null&&!Ne.done;he++,Ne=I.next()){te.index>he?(Ee=te,te=null):Ee=te.sibling;var ii=x(N,te,Ne.value,V);if(ii===null){te===null&&(te=Ee);break}e&&te&&ii.alternate===null&&n(N,te),R=m(ii,R,he),Me===null?oe=ii:Me.sibling=ii,Me=ii,te=Ee}if(Ne.done)return o(N,te),_e&&hn(N,he),oe;if(te===null){for(;!Ne.done;he++,Ne=I.next())Ne=B(N,Ne.value,V),Ne!==null&&(R=m(Ne,R,he),Me===null?oe=Ne:Me.sibling=Ne,Me=Ne);return _e&&hn(N,he),oe}for(te=s(te);!Ne.done;he++,Ne=I.next())Ne=U(te,N,he,Ne.value,V),Ne!==null&&(e&&Ne.alternate!==null&&te.delete(Ne.key===null?he:Ne.key),R=m(Ne,R,he),Me===null?oe=Ne:Me.sibling=Ne,Me=Ne);return e&&te.forEach(function($v){return n(N,$v)}),_e&&hn(N,he),oe}function qe(N,R,I,V){if(typeof I=="object"&&I!==null&&I.type===L&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C:e:{for(var oe=I.key;R!==null;){if(R.key===oe){if(oe=I.type,oe===L){if(R.tag===7){o(N,R.sibling),V=d(R,I.props.children),V.return=N,N=V;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===ge&&gi(oe)===R.type){o(N,R.sibling),V=d(R,I.props),Vo(V,I),V.return=N,N=V;break e}o(N,R);break}else n(N,R);R=R.sibling}I.type===L?(V=fi(I.props.children,N.mode,V,I.key),V.return=N,N=V):(V=Hl(I.type,I.key,I.props,null,N.mode,V),Vo(V,I),V.return=N,N=V)}return T(N);case w:e:{for(oe=I.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){o(N,R.sibling),V=d(R,I.children||[]),V.return=N,N=V;break e}else{o(N,R);break}else n(N,R);R=R.sibling}V=Is(I,N.mode,V),V.return=N,N=V}return T(N);case ge:return I=gi(I),qe(N,R,I,V)}if(nt(I))return W(N,R,I,V);if(Re(I)){if(oe=Re(I),typeof oe!="function")throw Error(a(150));return I=oe.call(I),le(N,R,I,V)}if(typeof I.then=="function")return qe(N,R,Ol(I),V);if(I.$$typeof===k)return qe(N,R,Bl(N,I),V);Yl(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(o(N,R.sibling),V=d(R,I),V.return=N,N=V):(o(N,R),V=Ns(I,N.mode,V),V.return=N,N=V),T(N)):o(N,R)}return function(N,R,I,V){try{Ho=0;var oe=qe(N,R,I,V);return Ji=null,oe}catch(te){if(te===Fi||te===zl)throw te;var Me=bt(29,te,null,N.mode);return Me.lanes=V,Me.return=N,Me}finally{}}}var vi=lf(!0),af=lf(!1),Pn=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Gl(e),kc(e,null,o),n}return Ll(e,s,n,o),Gl(e)}function qo(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Zu(e,o)}}function ks(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,o=o.next}while(o!==null);m===null?d=m=n:m=m.next=n}else d=m=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Os=!1;function Bo(){if(Os){var e=Yi;if(e!==null)throw e}}function Po(e,n,o,s){Os=!1;var d=e.updateQueue;Pn=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,D=A.next;A.next=null,T===null?m=D:T.next=D,T=A;var H=e.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==T&&(_===null?H.firstBaseUpdate=D:_.next=D,H.lastBaseUpdate=A))}if(m!==null){var B=d.baseState;T=0,H=D=A=null,_=m;do{var x=_.lane&-536870913,U=x!==_.lane;if(U?(Se&x)===x:(s&x)===x){x!==0&&x===Oi&&(Os=!0),H!==null&&(H=H.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var W=e,le=_;x=n;var qe=o;switch(le.tag){case 1:if(W=le.payload,typeof W=="function"){B=W.call(qe,B,x);break e}B=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=le.payload,x=typeof W=="function"?W.call(qe,B,x):W,x==null)break e;B=S({},B,x);break e;case 2:Pn=!0}}x=_.callback,x!==null&&(e.flags|=64,U&&(e.flags|=8192),U=d.callbacks,U===null?d.callbacks=[x]:U.push(x))}else U={lane:x,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(D=H=U,A=B):H=H.next=U,T|=x;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;U=_,_=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);H===null&&(A=B),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=H,m===null&&(d.shared.lanes=0),Kn|=T,e.lanes=T,e.memoizedState=B}}function sf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)sf(o[e],n)}var Ki=M(null),Fl=M(0);function uf(e,n){e=Mn,F(Fl,e),F(Ki,n),Mn=e|n.baseLanes}function Ys(){F(Fl,Mn),F(Ki,Ki.current)}function Fs(){Mn=Fl.current,q(Ki),q(Fl)}var Lt=M(null),Xt=null;function On(e){var n=e.alternate;F(Ze,Ze.current&1),F(Lt,e),Xt===null&&(n===null||Ki.current!==null||n.memoizedState!==null)&&(Xt=e)}function Js(e){F(Ze,Ze.current),F(Lt,e),Xt===null&&(Xt=e)}function cf(e){e.tag===22?(F(Ze,Ze.current),F(Lt,e),Xt===null&&(Xt=e)):Yn()}function Yn(){F(Ze,Ze.current),F(Lt,Lt.current)}function Gt(e){q(Lt),Xt===e&&(Xt=null),q(Ze)}var Ze=M(0);function Jl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Wr(o)||jr(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var vn=0,me=null,He=null,je=null,Kl=!1,Xi=!1,Ti=!1,Xl=0,zo=0,Qi=null,zy=0;function Ke(){throw Error(a(321))}function Ks(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Ut(e[o],n[o]))return!1;return!0}function Xs(e,n,o,s,d,m){return vn=m,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Kf:ur,Ti=!1,m=o(s,d),Ti=!1,Xi&&(m=df(n,o,s,d)),ff(e),m}function ff(e){G.H=Yo;var n=He!==null&&He.next!==null;if(vn=0,je=He=me=null,Kl=!1,zo=0,Qi=null,n)throw Error(a(300));e===null||et||(e=e.dependencies,e!==null&&ql(e)&&(et=!0))}function df(e,n,o,s){me=e;var d=0;do{if(Xi&&(Qi=null),zo=0,Xi=!1,25<=d)throw Error(a(301));if(d+=1,je=He=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=Xf,m=n(o,s)}while(Xi);return m}function ky(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?ko(n):n,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(me.flags|=1024),n}function Qs(){var e=Xl!==0;return Xl=0,e}function Zs(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function $s(e){if(Kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Kl=!1}vn=0,je=He=me=null,Xi=!1,zo=Xl=0,Qi=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?me.memoizedState=je=e:je=je.next=e,je}function $e(){if(He===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var n=je===null?me.memoizedState:je.next;if(n!==null)je=n,He=e;else{if(e===null)throw me.alternate===null?Error(a(467)):Error(a(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},je===null?me.memoizedState=je=e:je=je.next=e}return je}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(e){var n=zo;return zo+=1,Qi===null&&(Qi=[]),e=tf(Qi,e,n),n=me,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Kf:ur),e}function Zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ko(e);if(e.$$typeof===k)return dt(e)}throw Error(a(438,String(e)))}function Ws(e){var n=null,o=me.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Ql(),me.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=se;return n.index++,o}function Tn(e,n){return typeof n=="function"?n(e):n}function $l(e){var n=$e();return js(n,He,e)}function js(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=T=null,A=null,D=n,H=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(Se&B)===B:(vn&B)===B){var x=D.revertLane;if(x===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===Oi&&(H=!0);else if((vn&x)===x){D=D.next,x===Oi&&(H=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=B,T=m):A=A.next=B,me.lanes|=x,Kn|=x;B=D.action,Ti&&o(m,B),m=D.hasEagerState?D.eagerState:o(m,B)}else x={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(_=A=x,T=m):A=A.next=x,me.lanes|=B,Kn|=B;D=D.next}while(D!==null&&D!==n);if(A===null?T=m:A.next=_,!Ut(m,e.memoizedState)&&(et=!0,H&&(o=Yi,o!==null)))throw o;e.memoizedState=m,e.baseState=T,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function er(e){var n=$e(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,m=n.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do m=e(m,T.action),T=T.next;while(T!==d);Ut(m,n.memoizedState)||(et=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function pf(e,n,o){var s=me,d=$e(),m=_e;if(m){if(o===void 0)throw Error(a(407));o=o()}else o=n();var T=!Ut((He||d).memoizedState,o);if(T&&(d.memoizedState=o,et=!0),d=d.queue,ir(gf.bind(null,s,d,e),[e]),d.getSnapshot!==n||T||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,Zi(9,{destroy:void 0},hf.bind(null,s,d,o,n),null),Be===null)throw Error(a(349));m||(vn&127)!==0||mf(s,n,o)}return o}function mf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=me.updateQueue,n===null?(n=Ql(),me.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function hf(e,n,o,s){n.value=o,n.getSnapshot=s,yf(n)&&vf(e)}function gf(e,n,o){return o(function(){yf(n)&&vf(e)})}function yf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Ut(e,o)}catch{return!0}}function vf(e){var n=ci(e,2);n!==null&&Dt(n,e,2)}function tr(e){var n=St();if(typeof e=="function"){var o=e;if(e=o(),Ti){bn(!0);try{o()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},n}function Tf(e,n,o,s){return e.baseState=o,js(e,He,typeof s=="function"?s:Tn)}function Oy(e,n,o,s,d){if(ea(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};G.T!==null?o(!0):m.isTransition=!1,s(m),o=n.pending,o===null?(m.next=n.pending=m,Sf(n,m)):(m.next=o.next,n.pending=o.next=m)}}function Sf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=G.T,T={};G.T=T;try{var _=o(d,s),A=G.S;A!==null&&A(T,_),Ef(e,n,_)}catch(D){nr(e,n,D)}finally{m!==null&&T.types!==null&&(m.types=T.types),G.T=m}}else try{m=o(d,s),Ef(e,n,m)}catch(D){nr(e,n,D)}}function Ef(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){_f(e,n,s)},function(s){return nr(e,n,s)}):_f(e,n,o)}function _f(e,n,o){n.status="fulfilled",n.value=o,Cf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Sf(e,o)))}function nr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Cf(n),n=n.next;while(n!==s)}e.action=null}function Cf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Af(e,n){return n}function Rf(e,n){if(_e){var o=Be.formState;if(o!==null){e:{var s=me;if(_e){if(ze){t:{for(var d=ze,m=Kt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Qt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ze=Qt(d.nextSibling),s=d.data==="F!";break e}}qn(s)}s=!1}s&&(n=o[0])}}return o=St(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:n},o.queue=s,o=Yf.bind(null,me,s),s.dispatch=o,s=tr(!1),m=rr.bind(null,me,!1,s.queue),s=St(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=Oy.bind(null,me,d,m,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function Mf(e){var n=$e();return Nf(n,He,e)}function Nf(e,n,o){if(n=js(e,n,Af)[0],e=$l(Tn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=ko(n)}catch(T){throw T===Fi?zl:T}else s=n;n=$e();var d=n.queue,m=d.dispatch;return o!==n.memoizedState&&(me.flags|=2048,Zi(9,{destroy:void 0},Yy.bind(null,d,o),null)),[s,m,e]}function Yy(e,n){e.action=n}function If(e){var n=$e(),o=He;if(o!==null)return Nf(n,o,e);$e(),n=n.memoizedState,o=$e();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Zi(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=me.updateQueue,n===null&&(n=Ql(),me.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Df(){return $e().memoizedState}function Wl(e,n,o,s){var d=St();me.flags|=e,d.memoizedState=Zi(1|n,{destroy:void 0},o,s===void 0?null:s)}function jl(e,n,o,s){var d=$e();s=s===void 0?null:s;var m=d.memoizedState.inst;He!==null&&s!==null&&Ks(s,He.memoizedState.deps)?d.memoizedState=Zi(n,m,o,s):(me.flags|=e,d.memoizedState=Zi(1|n,m,o,s))}function wf(e,n){Wl(8390656,8,e,n)}function ir(e,n){jl(2048,8,e,n)}function Fy(e){me.flags|=4;var n=me.updateQueue;if(n===null)n=Ql(),me.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function xf(e){var n=$e().memoizedState;return Fy({ref:n,nextImpl:e}),function(){if((De&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Uf(e,n){return jl(4,2,e,n)}function bf(e,n){return jl(4,4,e,n)}function Lf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gf(e,n,o){o=o!=null?o.concat([e]):null,jl(4,4,Lf.bind(null,n,e),o)}function or(){}function Hf(e,n){var o=$e();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&Ks(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Vf(e,n){var o=$e();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&Ks(n,s[1]))return s[0];if(s=e(),Ti){bn(!0);try{e()}finally{bn(!1)}}return o.memoizedState=[s,n],s}function lr(e,n,o){return o===void 0||(vn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=qd(),me.lanes|=e,Kn|=e,o)}function qf(e,n,o,s){return Ut(o,n)?o:Ki.current!==null?(e=lr(e,o,s),Ut(e,n)||(et=!0),e):(vn&42)===0||(vn&1073741824)!==0&&(Se&261930)===0?(et=!0,e.memoizedState=o):(e=qd(),me.lanes|=e,Kn|=e,n)}function Bf(e,n,o,s,d){var m=z.p;z.p=m!==0&&8>m?m:8;var T=G.T,_={};G.T=_,rr(e,!1,n,o);try{var A=d(),D=G.S;if(D!==null&&D(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=Py(A,s);Oo(e,n,H,qt(e))}else Oo(e,n,s,qt(e))}catch(B){Oo(e,n,{then:function(){},status:"rejected",reason:B},qt())}finally{z.p=m,T!==null&&_.types!==null&&(T.types=_.types),G.T=T}}function Jy(){}function ar(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=Pf(e).queue;Bf(e,d,n,ne,o===null?Jy:function(){return zf(e),o(s)})}function Pf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:ne},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zf(e){var n=Pf(e);n.next===null&&(n=e.alternate.memoizedState),Oo(e,n.next.queue,{},qt())}function sr(){return dt(al)}function kf(){return $e().memoizedState}function Of(){return $e().memoizedState}function Ky(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=qt();e=zn(o);var s=kn(n,e,o);s!==null&&(Dt(s,n,o),qo(s,n,o)),n={cache:Hs()},e.payload=n;return}n=n.return}}function Xy(e,n,o){var s=qt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ea(e)?Ff(n,o):(o=Rs(e,n,o,s),o!==null&&(Dt(o,e,s),Jf(o,n,s)))}function Yf(e,n,o){var s=qt();Oo(e,n,o,s)}function Oo(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ea(e))Ff(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var T=n.lastRenderedState,_=m(T,o);if(d.hasEagerState=!0,d.eagerState=_,Ut(_,T))return Ll(e,n,d,0),Be===null&&bl(),!1}catch{}finally{}if(o=Rs(e,n,d,s),o!==null)return Dt(o,e,s),Jf(o,n,s),!0}return!1}function rr(e,n,o,s){if(s={lane:2,revertLane:Pr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ea(e)){if(n)throw Error(a(479))}else n=Rs(e,o,s,2),n!==null&&Dt(n,e,2)}function ea(e){var n=e.alternate;return e===me||n!==null&&n===me}function Ff(e,n){Xi=Kl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Jf(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,Zu(e,o)}}var Yo={readContext:dt,use:Zl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Yo.useEffectEvent=Ke;var Kf={readContext:dt,use:Zl,useCallback:function(e,n){return St().memoizedState=[e,n===void 0?null:n],e},useContext:dt,useEffect:wf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Wl(4194308,4,Lf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Wl(4194308,4,e,n)},useInsertionEffect:function(e,n){Wl(4,2,e,n)},useMemo:function(e,n){var o=St();n=n===void 0?null:n;var s=e();if(Ti){bn(!0);try{e()}finally{bn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=St();if(o!==void 0){var d=o(n);if(Ti){bn(!0);try{o(n)}finally{bn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Xy.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var n=St();return e={current:e},n.memoizedState=e},useState:function(e){e=tr(e);var n=e.queue,o=Yf.bind(null,me,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:or,useDeferredValue:function(e,n){var o=St();return lr(o,e,n)},useTransition:function(){var e=tr(!1);return e=Bf.bind(null,me,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=me,d=St();if(_e){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Be===null)throw Error(a(349));(Se&127)!==0||mf(s,n,o)}d.memoizedState=o;var m={value:o,getSnapshot:n};return d.queue=m,wf(gf.bind(null,s,m,e),[e]),s.flags|=2048,Zi(9,{destroy:void 0},hf.bind(null,s,m,o,n),null),o},useId:function(){var e=St(),n=Be.identifierPrefix;if(_e){var o=rn,s=sn;o=(s&~(1<<32-xt(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Xl++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=zy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:sr,useFormState:Rf,useActionState:Rf,useOptimistic:function(e){var n=St();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=rr.bind(null,me,!0,o),o.dispatch=n,[e,n]},useMemoCache:Ws,useCacheRefresh:function(){return St().memoizedState=Ky.bind(null,me)},useEffectEvent:function(e){var n=St(),o={impl:e};return n.memoizedState=o,function(){if((De&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},ur={readContext:dt,use:Zl,useCallback:Hf,useContext:dt,useEffect:ir,useImperativeHandle:Gf,useInsertionEffect:Uf,useLayoutEffect:bf,useMemo:Vf,useReducer:$l,useRef:Df,useState:function(){return $l(Tn)},useDebugValue:or,useDeferredValue:function(e,n){var o=$e();return qf(o,He.memoizedState,e,n)},useTransition:function(){var e=$l(Tn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:pf,useId:kf,useHostTransitionStatus:sr,useFormState:Mf,useActionState:Mf,useOptimistic:function(e,n){var o=$e();return Tf(o,He,e,n)},useMemoCache:Ws,useCacheRefresh:Of};ur.useEffectEvent=xf;var Xf={readContext:dt,use:Zl,useCallback:Hf,useContext:dt,useEffect:ir,useImperativeHandle:Gf,useInsertionEffect:Uf,useLayoutEffect:bf,useMemo:Vf,useReducer:er,useRef:Df,useState:function(){return er(Tn)},useDebugValue:or,useDeferredValue:function(e,n){var o=$e();return He===null?lr(o,e,n):qf(o,He.memoizedState,e,n)},useTransition:function(){var e=er(Tn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:ko(e),n]},useSyncExternalStore:pf,useId:kf,useHostTransitionStatus:sr,useFormState:If,useActionState:If,useOptimistic:function(e,n){var o=$e();return He!==null?Tf(o,He,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:Of};Xf.useEffectEvent=xf;function cr(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:S({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var fr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=qt(),d=zn(s);d.payload=n,o!=null&&(d.callback=o),n=kn(e,d,s),n!==null&&(Dt(n,e,s),qo(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=qt(),d=zn(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=kn(e,d,s),n!==null&&(Dt(n,e,s),qo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=qt(),s=zn(o);s.tag=2,n!=null&&(s.callback=n),n=kn(e,s,o),n!==null&&(Dt(n,e,o),qo(n,e,o))}};function Qf(e,n,o,s,d,m,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,T):n.prototype&&n.prototype.isPureReactComponent?!wo(o,s)||!wo(d,m):!0}function Zf(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&fr.enqueueReplaceState(n,n.state,null)}function Si(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=S({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function $f(e){Ul(e)}function Wf(e){console.error(e)}function jf(e){Ul(e)}function ta(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ed(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function dr(e,n,o){return o=zn(o),o.tag=3,o.payload={element:null},o.callback=function(){ta(e,n)},o}function td(e){return e=zn(e),e.tag=3,e}function nd(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){ed(n,o,s)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){ed(n,o,s),typeof d!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function Qy(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&ki(n,o,d,!0),o=Lt.current,o!==null){switch(o.tag){case 31:case 13:return Xt===null?pa():o.alternate===null&&Xe===0&&(Xe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===kl?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),Vr(e,s,d)),!1;case 22:return o.flags|=65536,s===kl?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),Vr(e,s,d)),!1}throw Error(a(435,o.tag))}return Vr(e,s,d),pa(),!1}if(_e)return n=Lt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==xs&&(e=Error(a(422),{cause:s}),bo(Yt(e,o)))):(s!==xs&&(n=Error(a(423),{cause:s}),bo(Yt(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Yt(s,o),d=dr(e.stateNode,s,d),ks(e,d),Xe!==4&&(Xe=2)),!1;var m=Error(a(520),{cause:s});if(m=Yt(m,o),Wo===null?Wo=[m]:Wo.push(m),Xe!==4&&(Xe=2),n===null)return!0;s=Yt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=dr(o.stateNode,s,e),ks(o,e),!1;case 1:if(n=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xn===null||!Xn.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=td(d),nd(d,e,o,s),ks(o,d),!1}o=o.return}while(o!==null);return!1}var pr=Error(a(461)),et=!1;function pt(e,n,o,s){n.child=e===null?af(n,null,o,s):vi(n,e.child,o,s)}function id(e,n,o,s,d){o=o.render;var m=n.ref;if("ref"in s){var T={};for(var _ in s)_!=="ref"&&(T[_]=s[_])}else T=s;return mi(n),s=Xs(e,n,o,T,m,d),_=Qs(),e!==null&&!et?(Zs(e,n,d),Sn(e,n,d)):(_e&&_&&Ds(n),n.flags|=1,pt(e,n,s,d),n.child)}function od(e,n,o,s,d){if(e===null){var m=o.type;return typeof m=="function"&&!Ms(m)&&m.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=m,ld(e,n,m,s,d)):(e=Hl(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Er(e,d)){var T=m.memoizedProps;if(o=o.compare,o=o!==null?o:wo,o(T,s)&&e.ref===n.ref)return Sn(e,n,d)}return n.flags|=1,e=mn(m,s),e.ref=n.ref,e.return=n,n.child=e}function ld(e,n,o,s,d){if(e!==null){var m=e.memoizedProps;if(wo(m,s)&&e.ref===n.ref)if(et=!1,n.pendingProps=s=m,Er(e,d))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,Sn(e,n,d)}return mr(e,n,o,s,d)}function ad(e,n,o,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return sd(e,n,m,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pl(n,m!==null?m.cachePool:null),m!==null?uf(n,m):Ys(),cf(n);else return s=n.lanes=536870912,sd(e,n,m!==null?m.baseLanes|o:o,o,s)}else m!==null?(Pl(n,m.cachePool),uf(n,m),Yn(),n.memoizedState=null):(e!==null&&Pl(n,null),Ys(),Yn());return pt(e,n,d,o),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sd(e,n,o,s,d){var m=qs();return m=m===null?null:{parent:We._currentValue,pool:m},n.memoizedState={baseLanes:o,cachePool:m},e!==null&&Pl(n,null),Ys(),cf(n),e!==null&&ki(e,n,s,!0),n.childLanes=d,null}function na(e,n){return n=oa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function rd(e,n,o){return vi(n,e.child,null,o),e=na(n,n.pendingProps),e.flags|=2,Gt(n),n.memoizedState=null,e}function Zy(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(_e){if(s.mode==="hidden")return e=na(n,s),n.lanes=536870912,Fo(null,e);if(Js(n),(e=ze)?(e=Sp(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},o=Yc(e),o.return=n,n.child=o,ft=n,ze=null)):e=null,e===null)throw qn(n);return n.lanes=536870912,null}return na(n,s)}var m=e.memoizedState;if(m!==null){var T=m.dehydrated;if(Js(n),d)if(n.flags&256)n.flags&=-257,n=rd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(et||ki(e,n,o,!1),d=(o&e.childLanes)!==0,et||d){if(s=Be,s!==null&&(T=$u(s,o),T!==0&&T!==m.retryLane))throw m.retryLane=T,ci(e,T),Dt(s,e,T),pr;pa(),n=rd(e,n,o)}else e=m.treeContext,ze=Qt(T.nextSibling),ft=n,_e=!0,Vn=null,Kt=!1,e!==null&&Kc(n,e),n=na(n,s),n.flags|=4096;return n}return e=mn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ia(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function mr(e,n,o,s,d){return mi(n),o=Xs(e,n,o,s,void 0,d),s=Qs(),e!==null&&!et?(Zs(e,n,d),Sn(e,n,d)):(_e&&s&&Ds(n),n.flags|=1,pt(e,n,o,d),n.child)}function ud(e,n,o,s,d,m){return mi(n),n.updateQueue=null,o=df(n,s,o,d),ff(e),s=Qs(),e!==null&&!et?(Zs(e,n,m),Sn(e,n,m)):(_e&&s&&Ds(n),n.flags|=1,pt(e,n,o,m),n.child)}function cd(e,n,o,s,d){if(mi(n),n.stateNode===null){var m=qi,T=o.contextType;typeof T=="object"&&T!==null&&(m=dt(T)),m=new o(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Ps(n),T=o.contextType,m.context=typeof T=="object"&&T!==null?dt(T):qi,m.state=n.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(cr(n,o,T,s),m.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&fr.enqueueReplaceState(m,m.state,null),Po(n,s,m,d),Bo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,A=Si(o,_);m.props=A;var D=m.context,H=o.contextType;T=qi,typeof H=="object"&&H!==null&&(T=dt(H));var B=o.getDerivedStateFromProps;H=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||D!==T)&&Zf(n,m,s,T),Pn=!1;var x=n.memoizedState;m.state=x,Po(n,s,m,d),Bo(),D=n.memoizedState,_||x!==D||Pn?(typeof B=="function"&&(cr(n,o,B,s),D=n.memoizedState),(A=Pn||Qf(n,o,A,s,x,D,T))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),m.props=s,m.state=D,m.context=T,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,zs(e,n),T=n.memoizedProps,H=Si(o,T),m.props=H,B=n.pendingProps,x=m.context,D=o.contextType,A=qi,typeof D=="object"&&D!==null&&(A=dt(D)),_=o.getDerivedStateFromProps,(D=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==B||x!==A)&&Zf(n,m,s,A),Pn=!1,x=n.memoizedState,m.state=x,Po(n,s,m,d),Bo();var U=n.memoizedState;T!==B||x!==U||Pn||e!==null&&e.dependencies!==null&&ql(e.dependencies)?(typeof _=="function"&&(cr(n,o,_,s),U=n.memoizedState),(H=Pn||Qf(n,o,H,s,x,U,A)||e!==null&&e.dependencies!==null&&ql(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,U,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,U,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=U),m.props=s,m.state=U,m.context=A,s=H):(typeof m.componentDidUpdate!="function"||T===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,ia(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=vi(n,e.child,null,d),n.child=vi(n,null,o,d)):pt(e,n,o,d),n.memoizedState=m.state,e=n.child):e=Sn(e,n,d),e}function fd(e,n,o,s){return di(),n.flags|=256,pt(e,n,o,s),n.child}var hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gr(e){return{baseLanes:e,cachePool:jc()}}function yr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Vt),e}function dd(e,n,o){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,T;if((T=m)||(T=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(_e){if(d?On(n):Yn(),(e=ze)?(e=Sp(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},o=Yc(e),o.return=n,n.child=o,ft=n,ze=null)):e=null,e===null)throw qn(n);return jr(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(Yn(),d=n.mode,_=oa({mode:"hidden",children:_},d),s=fi(s,d,o,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=gr(o),s.childLanes=yr(e,T,o),n.memoizedState=hr,Fo(null,s)):(On(n),vr(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(m)n.flags&256?(On(n),n.flags&=-257,n=Tr(e,n,o)):n.memoizedState!==null?(Yn(),n.child=e.child,n.flags|=128,n=null):(Yn(),_=s.fallback,d=n.mode,s=oa({mode:"visible",children:s.children},d),_=fi(_,d,o,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,vi(n,e.child,null,o),s=n.child,s.memoizedState=gr(o),s.childLanes=yr(e,T,o),n.memoizedState=hr,n=Fo(null,s));else if(On(n),jr(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var D=T.dgst;T=D,s=Error(a(419)),s.stack="",s.digest=T,bo({value:s,source:null,stack:null}),n=Tr(e,n,o)}else if(et||ki(e,n,o,!1),T=(o&e.childLanes)!==0,et||T){if(T=Be,T!==null&&(s=$u(T,o),s!==0&&s!==A.retryLane))throw A.retryLane=s,ci(e,s),Dt(T,e,s),pr;Wr(_)||pa(),n=Tr(e,n,o)}else Wr(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,ze=Qt(_.nextSibling),ft=n,_e=!0,Vn=null,Kt=!1,e!==null&&Kc(n,e),n=vr(n,s.children),n.flags|=4096);return n}return d?(Yn(),_=s.fallback,d=n.mode,A=e.child,D=A.sibling,s=mn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,D!==null?_=mn(D,_):(_=fi(_,d,o,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Fo(null,s),s=n.child,_=e.child.memoizedState,_===null?_=gr(o):(d=_.cachePool,d!==null?(A=We._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=jc(),_={baseLanes:_.baseLanes|o,cachePool:d}),s.memoizedState=_,s.childLanes=yr(e,T,o),n.memoizedState=hr,Fo(e.child,s)):(On(n),o=e.child,e=o.sibling,o=mn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=o,n.memoizedState=null,o)}function vr(e,n){return n=oa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function oa(e,n){return e=bt(22,e,null,n),e.lanes=0,e}function Tr(e,n,o){return vi(n,e.child,null,o),e=vr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function pd(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ls(e.return,n,o)}function Sr(e,n,o,s,d,m){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:m}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=o,T.tailMode=d,T.treeForkCount=m)}function md(e,n,o){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var T=Ze.current,_=(T&2)!==0;if(_?(T=T&1|2,n.flags|=128):T&=1,F(Ze,T),pt(e,n,s,o),s=_e?Uo:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pd(e,o,n);else if(e.tag===19)pd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Jl(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Sr(n,!1,d,o,m,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Jl(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Sr(n,!0,o,null,m,s);break;case"together":Sr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Sn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Kn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(ki(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=mn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=mn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Er(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ql(e)))}function $y(e,n,o){switch(n.tag){case 3:pe(n,n.stateNode.containerInfo),Bn(n,We,e.memoizedState.cache),di();break;case 27:case 5:Ae(n);break;case 4:pe(n,n.stateNode.containerInfo);break;case 10:Bn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Js(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(On(n),n.flags|=128,null):(o&n.child.childLanes)!==0?dd(e,n,o):(On(n),e=Sn(e,n,o),e!==null?e.sibling:null);On(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(ki(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return md(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(Ze,Ze.current),s)break;return null;case 22:return n.lanes=0,ad(e,n,o,n.pendingProps);case 24:Bn(n,We,e.memoizedState.cache)}return Sn(e,n,o)}function hd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!Er(e,o)&&(n.flags&128)===0)return et=!1,$y(e,n,o);et=(e.flags&131072)!==0}else et=!1,_e&&(n.flags&1048576)!==0&&Jc(n,Uo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=gi(n.elementType),n.type=e,typeof e=="function")Ms(e)?(s=Si(e,s),n.tag=1,n=cd(null,n,e,s,o)):(n.tag=0,n=mr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===Q){n.tag=11,n=id(null,n,e,s,o);break e}else if(d===O){n.tag=14,n=od(null,n,e,s,o);break e}}throw n=Pe(e)||e,Error(a(306,n,""))}}return n;case 0:return mr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=Si(s,n.pendingProps),cd(e,n,s,d,o);case 3:e:{if(pe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,zs(e,n),Po(n,s,null,o);var T=n.memoizedState;if(s=T.cache,Bn(n,We,s),s!==m.cache&&Gs(n,[We],o,!0),Bo(),s=T.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=fd(e,n,s,o);break e}else if(s!==d){d=Yt(Error(a(424)),n),bo(d),n=fd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Qt(e.firstChild),ft=n,_e=!0,Vn=null,Kt=!0,o=af(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(di(),s===d){n=Sn(e,n,o);break e}pt(e,n,s,o)}n=n.child}return n;case 26:return ia(e,n),e===null?(o=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=o:_e||(o=n.type,e=n.pendingProps,s=Sa(ee.current).createElement(o),s[ct]=n,s[Ct]=e,mt(s,o,e),at(s),n.stateNode=s):n.memoizedState=Mp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ae(n),e===null&&_e&&(s=n.stateNode=Cp(n.type,n.pendingProps,ee.current),ft=n,Kt=!0,d=ze,Wn(n.type)?(eu=d,ze=Qt(s.firstChild)):ze=d),pt(e,n,n.pendingProps.children,o),ia(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&_e&&((d=s=ze)&&(s=Nv(s,n.type,n.pendingProps,Kt),s!==null?(n.stateNode=s,ft=n,ze=Qt(s.firstChild),Kt=!1,d=!0):d=!1),d||qn(n)),Ae(n),d=n.type,m=n.pendingProps,T=e!==null?e.memoizedProps:null,s=m.children,Qr(d,m)?s=null:T!==null&&Qr(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=Xs(e,n,ky,null,null,o),al._currentValue=d),ia(e,n),pt(e,n,s,o),n.child;case 6:return e===null&&_e&&((e=o=ze)&&(o=Iv(o,n.pendingProps,Kt),o!==null?(n.stateNode=o,ft=n,ze=null,e=!0):e=!1),e||qn(n)),null;case 13:return dd(e,n,o);case 4:return pe(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=vi(n,null,s,o):pt(e,n,s,o),n.child;case 11:return id(e,n,n.type,n.pendingProps,o);case 7:return pt(e,n,n.pendingProps,o),n.child;case 8:return pt(e,n,n.pendingProps.children,o),n.child;case 12:return pt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Bn(n,n.type,s.value),pt(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,mi(n),d=dt(d),s=s(d),n.flags|=1,pt(e,n,s,o),n.child;case 14:return od(e,n,n.type,n.pendingProps,o);case 15:return ld(e,n,n.type,n.pendingProps,o);case 19:return md(e,n,o);case 31:return Zy(e,n,o);case 22:return ad(e,n,o,n.pendingProps);case 24:return mi(n),s=dt(We),e===null?(d=qs(),d===null&&(d=Be,m=Hs(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),n.memoizedState={parent:s,cache:d},Ps(n),Bn(n,We,d)):((e.lanes&o)!==0&&(zs(e,n),Po(n,null,null,o),Bo()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Bn(n,We,s)):(s=m.cache,Bn(n,We,s),s!==d.cache&&Gs(n,[We],o,!0))),pt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function En(e){e.flags|=4}function _r(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(kd())e.flags|=8192;else throw yi=kl,Bs}else e.flags&=-16777217}function gd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xp(n))if(kd())e.flags|=8192;else throw yi=kl,Bs}function la(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xu():536870912,e.lanes|=n,eo|=n)}function Jo(e,n){if(!_e)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ke(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function Wy(e,n,o){var s=n.pendingProps;switch(ws(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(n),null;case 1:return ke(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),yn(We),ae(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(zi(n)?En(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Us())),ke(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(En(n),m!==null?(ke(n),gd(n,m)):(ke(n),_r(n,d,null,s,o))):m?m!==e.memoizedState?(En(n),ke(n),gd(n,m)):(ke(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&En(n),ke(n),_r(n,d,e,s,o)),null;case 27:if(ce(n),o=ee.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&En(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ke(n),null}e=j.current,zi(n)?Xc(n):(e=Cp(d,s,o),n.stateNode=e,En(n))}return ke(n),null;case 5:if(ce(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&En(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return ke(n),null}if(m=j.current,zi(n))Xc(n);else{var T=Sa(ee.current);switch(m){case 1:m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=T.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?T.createElement(d,{is:s.is}):T.createElement(d)}}m[ct]=n,m[Ct]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)m.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=m;e:switch(mt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&En(n)}}return ke(n),_r(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&En(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ee.current,zi(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=ft,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[ct]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||dp(e.nodeValue,o)),e||qn(n,!0)}else e=Sa(e).createTextNode(s),e[ct]=n,n.stateNode=e}return ke(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=zi(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ct]=n}else di(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),e=!1}else o=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Gt(n),n):(Gt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ke(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=zi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[ct]=n}else di(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ke(n),d=!1}else d=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Gt(n),n):(Gt(n),null)}return Gt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),la(n,n.updateQueue),ke(n),null);case 4:return ae(),e===null&&Yr(n.stateNode.containerInfo),ke(n),null;case 10:return yn(n.type),ke(n),null;case 19:if(q(Ze),s=n.memoizedState,s===null)return ke(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Jo(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Jl(e),m!==null){for(n.flags|=128,Jo(s,!1),e=m.updateQueue,n.updateQueue=e,la(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Oc(o,e),o=o.sibling;return F(Ze,Ze.current&1|2),_e&&hn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&be()>ca&&(n.flags|=128,d=!0,Jo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Jl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,la(n,e),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!_e)return ke(n),null}else 2*be()-s.renderingStartTime>ca&&o!==536870912&&(n.flags|=128,d=!0,Jo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=be(),e.sibling=null,o=Ze.current,F(Ze,d?o&1|2:o&1),_e&&hn(n,s.treeForkCount),e):(ke(n),null);case 22:case 23:return Gt(n),Fs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(ke(n),n.subtreeFlags&6&&(n.flags|=8192)):ke(n),o=n.updateQueue,o!==null&&la(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&q(hi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),yn(We),ke(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jy(e,n){switch(ws(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return yn(We),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ce(n),null;case 31:if(n.memoizedState!==null){if(Gt(n),n.alternate===null)throw Error(a(340));di()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Gt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));di()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(Ze),null;case 4:return ae(),null;case 10:return yn(n.type),null;case 22:case 23:return Gt(n),Fs(),e!==null&&q(hi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return yn(We),null;case 25:return null;default:return null}}function yd(e,n){switch(ws(n),n.tag){case 3:yn(We),ae();break;case 26:case 27:case 5:ce(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&Gt(n);break;case 13:Gt(n);break;case 19:q(Ze);break;case 10:yn(n.type);break;case 22:case 23:Gt(n),Fs(),e!==null&&q(hi);break;case 24:yn(We)}}function Ko(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var m=o.create,T=o.inst;s=m(),T.destroy=s}o=o.next}while(o!==d)}}catch(_){Ge(n,n.return,_)}}function Fn(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var T=s.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=n;var A=o,D=_;try{D()}catch(H){Ge(d,A,H)}}}s=s.next}while(s!==m)}}catch(H){Ge(n,n.return,H)}}function vd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{rf(n,o)}catch(s){Ge(e,e.return,s)}}}function Td(e,n,o){o.props=Si(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Ge(e,n,s)}}function Xo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){Ge(e,n,d)}}function un(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Ge(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ge(e,n,d)}else o.current=null}function Sd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Ge(e,e.return,d)}}function Cr(e,n,o){try{var s=e.stateNode;Ev(s,e.type,o,n),s[Ct]=n}catch(d){Ge(e,e.return,d)}}function Ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function Ar(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rr(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=dn));else if(s!==4&&(s===27&&Wn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Rr(e,n,o),e=e.sibling;e!==null;)Rr(e,n,o),e=e.sibling}function aa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Wn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(aa(e,n,o),e=e.sibling;e!==null;)aa(e,n,o),e=e.sibling}function _d(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);mt(n,s,o),n[ct]=e,n[Ct]=o}catch(m){Ge(e,e.return,m)}}var _n=!1,tt=!1,Mr=!1,Cd=typeof WeakSet=="function"?WeakSet:Set,st=null;function ev(e,n){if(e=e.containerInfo,Kr=Na,e=Lc(e),Ts(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var T=0,_=-1,A=-1,D=0,H=0,B=e,x=null;t:for(;;){for(var U;B!==o||d!==0&&B.nodeType!==3||(_=T+d),B!==m||s!==0&&B.nodeType!==3||(A=T+s),B.nodeType===3&&(T+=B.nodeValue.length),(U=B.firstChild)!==null;)x=B,B=U;for(;;){if(B===e)break t;if(x===o&&++D===d&&(_=T),x===m&&++H===s&&(A=T),(U=B.nextSibling)!==null)break;B=x,x=B.parentNode}B=U}o=_===-1||A===-1?null:{start:_,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xr={focusedElem:e,selectionRange:o},Na=!1,st=n;st!==null;)if(n=st,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,st=e;else for(;st!==null;){switch(n=st,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,o=n,d=m.memoizedProps,m=m.memoizedState,s=o.stateNode;try{var W=Si(o.type,d);e=s.getSnapshotBeforeUpdate(W,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ge(o,o.return,le)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)$r(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$r(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,st=e;break}st=n.return}}function Ad(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:An(e,o),s&4&&Ko(5,o);break;case 1:if(An(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(T){Ge(o,o.return,T)}else{var d=Si(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ge(o,o.return,T)}}s&64&&vd(o),s&512&&Xo(o,o.return);break;case 3:if(An(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{rf(e,n)}catch(T){Ge(o,o.return,T)}}break;case 27:n===null&&s&4&&_d(o);case 26:case 5:An(e,o),n===null&&s&4&&Sd(o),s&512&&Xo(o,o.return);break;case 12:An(e,o);break;case 31:An(e,o),s&4&&Nd(e,o);break;case 13:An(e,o),s&4&&Id(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=uv.bind(null,o),Dv(e,o))));break;case 22:if(s=o.memoizedState!==null||_n,!s){n=n!==null&&n.memoizedState!==null||tt,d=_n;var m=tt;_n=s,(tt=n)&&!m?Rn(e,o,(o.subtreeFlags&8772)!==0):An(e,o),_n=d,tt=m}break;case 30:break;default:An(e,o)}}function Rd(e){var n=e.alternate;n!==null&&(e.alternate=null,Rd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ns(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Rt=!1;function Cn(e,n,o){for(o=o.child;o!==null;)Md(e,n,o),o=o.sibling}function Md(e,n,o){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(vo,o)}catch{}switch(o.tag){case 26:tt||un(o,n),Cn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tt||un(o,n);var s=Fe,d=Rt;Wn(o.type)&&(Fe=o.stateNode,Rt=!1),Cn(e,n,o),il(o.stateNode),Fe=s,Rt=d;break;case 5:tt||un(o,n);case 6:if(s=Fe,d=Rt,Fe=null,Cn(e,n,o),Fe=s,Rt=d,Fe!==null)if(Rt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(o.stateNode)}catch(m){Ge(o,n,m)}else try{Fe.removeChild(o.stateNode)}catch(m){Ge(o,n,m)}break;case 18:Fe!==null&&(Rt?(e=Fe,vp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),ro(e)):vp(Fe,o.stateNode));break;case 4:s=Fe,d=Rt,Fe=o.stateNode.containerInfo,Rt=!0,Cn(e,n,o),Fe=s,Rt=d;break;case 0:case 11:case 14:case 15:Fn(2,o,n),tt||Fn(4,o,n),Cn(e,n,o);break;case 1:tt||(un(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Td(o,n,s)),Cn(e,n,o);break;case 21:Cn(e,n,o);break;case 22:tt=(s=tt)||o.memoizedState!==null,Cn(e,n,o),tt=s;break;default:Cn(e,n,o)}}function Nd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ro(e)}catch(o){Ge(n,n.return,o)}}}function Id(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(o){Ge(n,n.return,o)}}function tv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Cd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Cd),n;default:throw Error(a(435,e.tag))}}function sa(e,n){var o=tv(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=cv.bind(null,e,s);s.then(d,d)}})}function Mt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],m=e,T=n,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(Wn(_.type)){Fe=_.stateNode,Rt=!1;break e}break;case 5:Fe=_.stateNode,Rt=!1;break e;case 3:case 4:Fe=_.stateNode.containerInfo,Rt=!0;break e}_=_.return}if(Fe===null)throw Error(a(160));Md(m,T,d),Fe=null,Rt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dd(n,e),n=n.sibling}var tn=null;function Dd(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(n,e),Nt(e),s&4&&(Fn(3,e,e.return),Ko(3,e),Fn(5,e,e.return));break;case 1:Mt(n,e),Nt(e),s&512&&(tt||o===null||un(o,o.return)),s&64&&_n&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=tn;if(Mt(n,e),Nt(e),s&512&&(tt||o===null||un(o,o.return)),s&4){var m=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Eo]||m[ct]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),mt(m,s,o),m[ct]=e,at(m),s=m;break e;case"link":var T=Dp("link","href",d).get(s+(o.href||""));if(T){for(var _=0;_<T.length;_++)if(m=T[_],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(_,1);break t}}m=d.createElement(s),mt(m,s,o),d.head.appendChild(m);break;case"meta":if(T=Dp("meta","content",d).get(s+(o.content||""))){for(_=0;_<T.length;_++)if(m=T[_],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(_,1);break t}}m=d.createElement(s),mt(m,s,o),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[ct]=e,at(m),s=m}e.stateNode=s}else wp(d,e.type,e.stateNode);else e.stateNode=Ip(d,s,e.memoizedProps);else m!==s?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,s===null?wp(d,e.type,e.stateNode):Ip(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Cr(e,e.memoizedProps,o.memoizedProps)}break;case 27:Mt(n,e),Nt(e),s&512&&(tt||o===null||un(o,o.return)),o!==null&&s&4&&Cr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Mt(n,e),Nt(e),s&512&&(tt||o===null||un(o,o.return)),e.flags&32){d=e.stateNode;try{xi(d,"")}catch(W){Ge(e,e.return,W)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Cr(e,d,o!==null?o.memoizedProps:d)),s&1024&&(Mr=!0);break;case 6:if(Mt(n,e),Nt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(W){Ge(e,e.return,W)}}break;case 3:if(Ca=null,d=tn,tn=Ea(n.containerInfo),Mt(n,e),tn=d,Nt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(W){Ge(e,e.return,W)}Mr&&(Mr=!1,wd(e));break;case 4:s=tn,tn=Ea(e.stateNode.containerInfo),Mt(n,e),Nt(e),tn=s;break;case 12:Mt(n,e),Nt(e);break;case 31:Mt(n,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sa(e,s)));break;case 13:Mt(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ua=be()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sa(e,s)));break;case 22:d=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,D=_n,H=tt;if(_n=D||d,tt=H||A,Mt(n,e),tt=H,_n=D,Nt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||A||_n||tt||Ei(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(m=A.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=A.stateNode;var B=A.memoizedProps.style,x=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(W){Ge(A,A.return,W)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(W){Ge(A,A.return,W)}}}else if(n.tag===18){if(o===null){A=n;try{var U=A.stateNode;d?Tp(U,!0):Tp(A.stateNode,!1)}catch(W){Ge(A,A.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,sa(e,o))));break;case 19:Mt(n,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sa(e,s)));break;case 30:break;case 21:break;default:Mt(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(Ed(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,m=Ar(e);aa(e,m,d);break;case 5:var T=o.stateNode;o.flags&32&&(xi(T,""),o.flags&=-33);var _=Ar(e);aa(e,_,T);break;case 3:case 4:var A=o.stateNode.containerInfo,D=Ar(e);Rr(e,D,A);break;default:throw Error(a(161))}}catch(H){Ge(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function An(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ad(e,n.alternate,n),n=n.sibling}function Ei(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fn(4,n,n.return),Ei(n);break;case 1:un(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Td(n,n.return,o),Ei(n);break;case 27:il(n.stateNode);case 26:case 5:un(n,n.return),Ei(n);break;case 22:n.memoizedState===null&&Ei(n);break;case 30:Ei(n);break;default:Ei(n)}e=e.sibling}}function Rn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,T=m.flags;switch(m.tag){case 0:case 11:case 15:Rn(d,m,o),Ko(4,m);break;case 1:if(Rn(d,m,o),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Ge(s,s.return,D)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)sf(A[d],_)}catch(D){Ge(s,s.return,D)}}o&&T&64&&vd(m),Xo(m,m.return);break;case 27:_d(m);case 26:case 5:Rn(d,m,o),o&&s===null&&T&4&&Sd(m),Xo(m,m.return);break;case 12:Rn(d,m,o);break;case 31:Rn(d,m,o),o&&T&4&&Nd(d,m);break;case 13:Rn(d,m,o),o&&T&4&&Id(d,m);break;case 22:m.memoizedState===null&&Rn(d,m,o),Xo(m,m.return);break;case 30:break;default:Rn(d,m,o)}n=n.sibling}}function Nr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Lo(o))}function Ir(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function nn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xd(e,n,o,s),n=n.sibling}function xd(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n,o,s),d&2048&&Ko(9,n);break;case 1:nn(e,n,o,s);break;case 3:nn(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(d&2048){nn(e,n,o,s),e=n.stateNode;try{var m=n.memoizedProps,T=m.id,_=m.onPostCommit;typeof _=="function"&&_(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ge(n,n.return,A)}}else nn(e,n,o,s);break;case 31:nn(e,n,o,s);break;case 13:nn(e,n,o,s);break;case 23:break;case 22:m=n.stateNode,T=n.alternate,n.memoizedState!==null?m._visibility&2?nn(e,n,o,s):Qo(e,n):m._visibility&2?nn(e,n,o,s):(m._visibility|=2,$i(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Nr(T,n);break;case 24:nn(e,n,o,s),d&2048&&Ir(n.alternate,n);break;default:nn(e,n,o,s)}}function $i(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,T=n,_=o,A=s,D=T.flags;switch(T.tag){case 0:case 11:case 15:$i(m,T,_,A,d),Ko(8,T);break;case 23:break;case 22:var H=T.stateNode;T.memoizedState!==null?H._visibility&2?$i(m,T,_,A,d):Qo(m,T):(H._visibility|=2,$i(m,T,_,A,d)),d&&D&2048&&Nr(T.alternate,T);break;case 24:$i(m,T,_,A,d),d&&D&2048&&Ir(T.alternate,T);break;default:$i(m,T,_,A,d)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Qo(o,s),d&2048&&Nr(s.alternate,s);break;case 24:Qo(o,s),d&2048&&Ir(s.alternate,s);break;default:Qo(o,s)}n=n.sibling}}var Zo=8192;function Wi(e,n,o){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)Ud(e,n,o),e=e.sibling}function Ud(e,n,o){switch(e.tag){case 26:Wi(e,n,o),e.flags&Zo&&e.memoizedState!==null&&zv(o,tn,e.memoizedState,e.memoizedProps);break;case 5:Wi(e,n,o);break;case 3:case 4:var s=tn;tn=Ea(e.stateNode.containerInfo),Wi(e,n,o),tn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Zo,Zo=16777216,Wi(e,n,o),Zo=s):Wi(e,n,o));break;default:Wi(e,n,o)}}function bd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];st=s,Gd(s,e)}bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ld(e),e=e.sibling}function Ld(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Fn(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ra(e)):$o(e);break;default:$o(e)}}function ra(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];st=s,Gd(s,e)}bd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fn(8,n,n.return),ra(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,ra(n));break;default:ra(n)}e=e.sibling}}function Gd(e,n){for(;st!==null;){var o=st;switch(o.tag){case 0:case 11:case 15:Fn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Lo(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,st=s;else e:for(o=e;st!==null;){s=st;var d=s.sibling,m=s.return;if(Rd(s),s===o){st=null;break e}if(d!==null){d.return=m,st=d;break e}st=m}}}var nv={getCacheForType:function(e){var n=dt(We),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return dt(We).controller.signal}},iv=typeof WeakMap=="function"?WeakMap:Map,De=0,Be=null,ve=null,Se=0,Le=0,Ht=null,Jn=!1,ji=!1,Dr=!1,Mn=0,Xe=0,Kn=0,_i=0,wr=0,Vt=0,eo=0,Wo=null,It=null,xr=!1,ua=0,Hd=0,ca=1/0,fa=null,Xn=null,it=0,Qn=null,to=null,Nn=0,Ur=0,br=null,Vd=null,jo=0,Lr=null;function qt(){return(De&2)!==0&&Se!==0?Se&-Se:G.T!==null?Pr():Wu()}function qd(){if(Vt===0)if((Se&536870912)===0||_e){var e=Tl;Tl<<=1,(Tl&3932160)===0&&(Tl=262144),Vt=e}else Vt=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Vt}function Dt(e,n,o){(e===Be&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(no(e,0),Zn(e,Se,Vt,!1)),So(e,o),((De&2)===0||e!==Be)&&(e===Be&&((De&2)===0&&(_i|=o),Xe===4&&Zn(e,Se,Vt,!1)),cn(e))}function Bd(e,n,o){if((De&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||To(e,n),d=s?av(e,n):Hr(e,n,!0),m=s;do{if(d===0){ji&&!s&&Zn(e,n,0,!1);break}else{if(o=e.current.alternate,m&&!ov(o)){d=Hr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var _=e;d=Wo;var A=_.current.memoizedState.isDehydrated;if(A&&(no(_,T).flags|=256),T=Hr(_,T,!1),T!==2){if(Dr&&!A){_.errorRecoveryDisabledLanes|=m,_i|=m,d=4;break e}m=It,It=d,m!==null&&(It===null?It=m:It.push.apply(It,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){no(e,0),Zn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zn(s,n,Vt,!Jn);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ua+300-be(),10<d)){if(Zn(s,n,Vt,!Jn),El(s,0,!0)!==0)break e;Nn=n,s.timeoutHandle=gp(Pd.bind(null,s,o,It,fa,xr,n,Vt,_i,eo,Jn,m,"Throttled",-0,0),d);break e}Pd(s,o,It,fa,xr,n,Vt,_i,eo,Jn,m,null,-0,0)}}break}while(!0);cn(e)}function Pd(e,n,o,s,d,m,T,_,A,D,H,B,x,U){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},Ud(n,m,B);var W=(m&62914560)===m?ua-be():(m&4194048)===m?Hd-be():0;if(W=kv(B,W),W!==null){Nn=m,e.cancelPendingCommit=W(Xd.bind(null,e,n,m,o,s,d,T,_,A,H,B,null,x,U)),Zn(e,m,T,!D);return}}Xd(e,n,m,o,s,d,T,_,A)}function ov(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],m=d.getSnapshot;d=d.value;try{if(!Ut(m(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zn(e,n,o,s){n&=~wr,n&=~_i,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-xt(d),T=1<<m;s[m]=-1,d&=~T}o!==0&&Qu(e,o,n)}function da(){return(De&6)===0?(el(0),!1):!0}function Gr(){if(ve!==null){if(Le===0)var e=ve.return;else e=ve,gn=pi=null,$s(e),Ji=null,Ho=0,e=ve;for(;e!==null;)yd(e.alternate,e),e=e.return;ve=null}}function no(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Av(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Nn=0,Gr(),Be=e,ve=o=mn(e.current,null),Se=n,Le=0,Ht=null,Jn=!1,ji=To(e,n),Dr=!1,eo=Vt=wr=_i=Kn=Xe=0,It=Wo=null,xr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-xt(s),m=1<<d;n|=e[d],s&=~m}return Mn=n,bl(),o}function zd(e,n){me=null,G.H=Yo,n===Fi||n===zl?(n=nf(),Le=3):n===Bs?(n=nf(),Le=4):Le=n===pr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ht=n,ve===null&&(Xe=1,ta(e,Yt(n,e.current)))}function kd(){var e=Lt.current;return e===null?!0:(Se&4194048)===Se?Xt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Xt:!1}function Od(){var e=G.H;return G.H=Yo,e===null?Yo:e}function Yd(){var e=G.A;return G.A=nv,e}function pa(){Xe=4,Jn||(Se&4194048)!==Se&&Lt.current!==null||(ji=!0),(Kn&134217727)===0&&(_i&134217727)===0||Be===null||Zn(Be,Se,Vt,!1)}function Hr(e,n,o){var s=De;De|=2;var d=Od(),m=Yd();(Be!==e||Se!==n)&&(fa=null,no(e,n)),n=!1;var T=Xe;e:do try{if(Le!==0&&ve!==null){var _=ve,A=Ht;switch(Le){case 8:Gr(),T=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(n=!0);var D=Le;if(Le=0,Ht=null,io(e,_,A,D),o&&ji){T=0;break e}break;default:D=Le,Le=0,Ht=null,io(e,_,A,D)}}lv(),T=Xe;break}catch(H){zd(e,H)}while(!0);return n&&e.shellSuspendCounter++,gn=pi=null,De=s,G.H=d,G.A=m,ve===null&&(Be=null,Se=0,bl()),T}function lv(){for(;ve!==null;)Fd(ve)}function av(e,n){var o=De;De|=2;var s=Od(),d=Yd();Be!==e||Se!==n?(fa=null,ca=be()+500,no(e,n)):ji=To(e,n);e:do try{if(Le!==0&&ve!==null){n=ve;var m=Ht;t:switch(Le){case 1:Le=0,Ht=null,io(e,n,m,1);break;case 2:case 9:if(ef(m)){Le=0,Ht=null,Jd(n);break}n=function(){Le!==2&&Le!==9||Be!==e||(Le=7),cn(e)},m.then(n,n);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:ef(m)?(Le=0,Ht=null,Jd(n)):(Le=0,Ht=null,io(e,n,m,7));break;case 5:var T=null;switch(ve.tag){case 26:T=ve.memoizedState;case 5:case 27:var _=ve;if(T?xp(T):_.stateNode.complete){Le=0,Ht=null;var A=_.sibling;if(A!==null)ve=A;else{var D=_.return;D!==null?(ve=D,ma(D)):ve=null}break t}}Le=0,Ht=null,io(e,n,m,5);break;case 6:Le=0,Ht=null,io(e,n,m,6);break;case 8:Gr(),Xe=6;break e;default:throw Error(a(462))}}sv();break}catch(H){zd(e,H)}while(!0);return gn=pi=null,G.H=s,G.A=d,De=o,ve!==null?0:(Be=null,Se=0,bl(),Xe)}function sv(){for(;ve!==null&&!Ye();)Fd(ve)}function Fd(e){var n=hd(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,n===null?ma(e):ve=n}function Jd(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=ud(o,n,n.pendingProps,n.type,void 0,Se);break;case 11:n=ud(o,n,n.pendingProps,n.type.render,n.ref,Se);break;case 5:$s(n);default:yd(o,n),n=ve=Oc(n,Mn),n=hd(o,n,Mn)}e.memoizedProps=e.pendingProps,n===null?ma(e):ve=n}function io(e,n,o,s){gn=pi=null,$s(n),Ji=null,Ho=0;var d=n.return;try{if(Qy(e,d,n,o,Se)){Xe=1,ta(e,Yt(o,e.current)),ve=null;return}}catch(m){if(d!==null)throw ve=d,m;Xe=1,ta(e,Yt(o,e.current)),ve=null;return}n.flags&32768?(_e||s===1?e=!0:ji||(Se&536870912)!==0?e=!1:(Jn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Lt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Kd(n,e)):ma(n)}function ma(e){var n=e;do{if((n.flags&32768)!==0){Kd(n,Jn);return}e=n.return;var o=Wy(n.alternate,n,Mn);if(o!==null){ve=o;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=e}while(n!==null);Xe===0&&(Xe=5)}function Kd(e,n){do{var o=jy(e.alternate,e);if(o!==null){o.flags&=32767,ve=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ve=e;return}ve=e=o}while(e!==null);Xe=6,ve=null}function Xd(e,n,o,s,d,m,T,_,A){e.cancelPendingCommit=null;do ha();while(it!==0);if((De&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=As,Pg(e,o,m,T,_,A),e===Be&&(ve=Be=null,Se=0),to=n,Qn=e,Nn=o,Ur=m,br=d,Vd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fv(yl,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,d=z.p,z.p=2,T=De,De|=4;try{ev(e,n,o)}finally{De=T,z.p=d,G.T=s}}it=1,Qd(),Zd(),$d()}}function Qd(){if(it===1){it=0;var e=Qn,n=to,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var s=z.p;z.p=2;var d=De;De|=4;try{Dd(n,e);var m=Xr,T=Lc(e.containerInfo),_=m.focusedElem,A=m.selectionRange;if(T!==_&&_&&_.ownerDocument&&bc(_.ownerDocument.documentElement,_)){if(A!==null&&Ts(_)){var D=A.start,H=A.end;if(H===void 0&&(H=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(H,_.value.length);else{var B=_.ownerDocument||document,x=B&&B.defaultView||window;if(x.getSelection){var U=x.getSelection(),W=_.textContent.length,le=Math.min(A.start,W),qe=A.end===void 0?le:Math.min(A.end,W);!U.extend&&le>qe&&(T=qe,qe=le,le=T);var N=Uc(_,le),R=Uc(_,qe);if(N&&R&&(U.rangeCount!==1||U.anchorNode!==N.node||U.anchorOffset!==N.offset||U.focusNode!==R.node||U.focusOffset!==R.offset)){var I=B.createRange();I.setStart(N.node,N.offset),U.removeAllRanges(),le>qe?(U.addRange(I),U.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),U.addRange(I))}}}}for(B=[],U=_;U=U.parentNode;)U.nodeType===1&&B.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var V=B[_];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Na=!!Kr,Xr=Kr=null}finally{De=d,z.p=s,G.T=o}}e.current=n,it=2}}function Zd(){if(it===2){it=0;var e=Qn,n=to,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var s=z.p;z.p=2;var d=De;De|=4;try{Ad(e,n.alternate,n)}finally{De=d,z.p=s,G.T=o}}it=3}}function $d(){if(it===4||it===3){it=0,gt();var e=Qn,n=to,o=Nn,s=Vd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?it=5:(it=0,to=Qn=null,Wd(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Xn=null),es(o),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(vo,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=G.T,d=z.p,z.p=2,G.T=null;try{for(var m=e.onRecoverableError,T=0;T<s.length;T++){var _=s[T];m(_.value,{componentStack:_.stack})}}finally{G.T=n,z.p=d}}(Nn&3)!==0&&ha(),cn(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===Lr?jo++:(jo=0,Lr=e):jo=0,el(0)}}function Wd(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function ha(){return Qd(),Zd(),$d(),jd()}function jd(){if(it!==5)return!1;var e=Qn,n=Ur;Ur=0;var o=es(Nn),s=G.T,d=z.p;try{z.p=32>o?32:o,G.T=null,o=br,br=null;var m=Qn,T=Nn;if(it=0,to=Qn=null,Nn=0,(De&6)!==0)throw Error(a(331));var _=De;if(De|=4,Ld(m.current),xd(m,m.current,T,o),De=_,el(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(vo,m)}catch{}return!0}finally{z.p=d,G.T=s,Wd(e,n)}}function ep(e,n,o){n=Yt(o,n),n=dr(e.stateNode,n,2),e=kn(e,n,2),e!==null&&(So(e,2),cn(e))}function Ge(e,n,o){if(e.tag===3)ep(e,e,o);else for(;n!==null;){if(n.tag===3){ep(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xn===null||!Xn.has(s))){e=Yt(o,e),o=td(2),s=kn(n,o,2),s!==null&&(nd(o,s,n,e),So(s,2),cn(s));break}}n=n.return}}function Vr(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new iv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(Dr=!0,d.add(o),e=rv.bind(null,e,n,o),n.then(e,e))}function rv(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Be===e&&(Se&o)===o&&(Xe===4||Xe===3&&(Se&62914560)===Se&&300>be()-ua?(De&2)===0&&no(e,0):wr|=o,eo===Se&&(eo=0)),cn(e)}function tp(e,n){n===0&&(n=Xu()),e=ci(e,n),e!==null&&(So(e,n),cn(e))}function uv(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),tp(e,o)}function cv(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),tp(e,o)}function fv(e,n){return Tt(e,n)}var ga=null,oo=null,qr=!1,ya=!1,Br=!1,$n=0;function cn(e){e!==oo&&e.next===null&&(oo===null?ga=oo=e:oo=oo.next=e),ya=!0,qr||(qr=!0,pv())}function el(e,n){if(!Br&&ya){Br=!0;do for(var o=!1,s=ga;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var T=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-xt(42|e)+1)-1,m&=d&~(T&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,lp(s,m))}else m=Se,m=El(s,s===Be?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||To(s,m)||(o=!0,lp(s,m));s=s.next}while(o);Br=!1}}function dv(){np()}function np(){ya=qr=!1;var e=0;$n!==0&&Cv()&&(e=$n);for(var n=be(),o=null,s=ga;s!==null;){var d=s.next,m=ip(s,n);m===0?(s.next=null,o===null?ga=d:o.next=d,d===null&&(oo=o)):(o=s,(e!==0||(m&3)!==0)&&(ya=!0)),s=d}it!==0&&it!==5||el(e),$n!==0&&($n=0)}function ip(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var T=31-xt(m),_=1<<T,A=d[T];A===-1?((_&o)===0||(_&s)!==0)&&(d[T]=Bg(_,n)):A<=n&&(e.expiredLanes|=_),m&=~_}if(n=Be,o=Se,o=El(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Qe(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||To(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&Qe(s),es(o)){case 2:case 8:o=Ju;break;case 32:o=yl;break;case 268435456:o=Ku;break;default:o=yl}return s=op.bind(null,e),o=Tt(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&Qe(s),e.callbackPriority=2,e.callbackNode=null,2}function op(e,n){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ha()&&e.callbackNode!==o)return null;var s=Se;return s=El(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Bd(e,s,n),ip(e,be()),e.callbackNode!=null&&e.callbackNode===o?op.bind(null,e):null)}function lp(e,n){if(ha())return null;Bd(e,n,!0)}function pv(){Rv(function(){(De&6)!==0?Tt(Fu,dv):np()})}function Pr(){if($n===0){var e=Oi;e===0&&(e=vl,vl<<=1,(vl&261888)===0&&(vl=256)),$n=e}return $n}function ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rl(""+e)}function sp(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function mv(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var m=ap((d[Ct]||null).action),T=s.submitter;T&&(n=(n=T[Ct]||null)?ap(n.formAction):T.getAttribute("formAction"),n!==null&&(m=n,T=null));var _=new Dl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if($n!==0){var A=T?sp(d,T):new FormData(d);ar(o,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(_.preventDefault(),A=T?sp(d,T):new FormData(d),ar(o,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var zr=0;zr<Cs.length;zr++){var kr=Cs[zr],hv=kr.toLowerCase(),gv=kr[0].toUpperCase()+kr.slice(1);en(hv,"on"+gv)}en(Vc,"onAnimationEnd"),en(qc,"onAnimationIteration"),en(Bc,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Uy,"onTransitionRun"),en(by,"onTransitionStart"),en(Ly,"onTransitionCancel"),en(Pc,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function rp(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var T=s.length-1;0<=T;T--){var _=s[T],A=_.instance,D=_.currentTarget;if(_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=D;try{m(d)}catch(H){Ul(H)}d.currentTarget=null,m=A}else for(T=0;T<s.length;T++){if(_=s[T],A=_.instance,D=_.currentTarget,_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=D;try{m(d)}catch(H){Ul(H)}d.currentTarget=null,m=A}}}}function Te(e,n){var o=n[ts];o===void 0&&(o=n[ts]=new Set);var s=e+"__bubble";o.has(s)||(up(n,e,2,!1),o.add(s))}function Or(e,n,o){var s=0;n&&(s|=4),up(o,e,s,n)}var va="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[va]){e[va]=!0,tc.forEach(function(o){o!=="selectionchange"&&(yv.has(o)||Or(o,!1,e),Or(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[va]||(n[va]=!0,Or("selectionchange",!1,n))}}function up(e,n,o,s){switch(qp(n)){case 2:var d=Fv;break;case 8:d=Jv;break;default:d=lu}o=d.bind(null,n,o,e),d=void 0,!cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function Fr(e,n,o,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var _=s.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=s.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=Mi(_),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){s=m=T;continue e}_=_.parentNode}}s=s.return}pc(function(){var D=m,H=rs(o),B=[];e:{var x=zc.get(e);if(x!==void 0){var U=Dl,W=e;switch(e){case"keypress":if(Nl(o)===0)break e;case"keydown":case"keyup":U=cy;break;case"focusin":W="focus",U=ms;break;case"focusout":W="blur",U=ms;break;case"beforeblur":case"afterblur":U=ms;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=py;break;case Vc:case qc:case Bc:U=ty;break;case Pc:U=hy;break;case"scroll":case"scrollend":U=Zg;break;case"wheel":U=yy;break;case"copy":case"cut":case"paste":U=iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=vc;break;case"toggle":case"beforetoggle":U=Ty}var le=(n&4)!==0,qe=!le&&(e==="scroll"||e==="scrollend"),N=le?x!==null?x+"Capture":null:x;le=[];for(var R=D,I;R!==null;){var V=R;if(I=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||I===null||N===null||(V=Co(R,N),V!=null&&le.push(nl(R,V,I))),qe)break;R=R.return}0<le.length&&(x=new U(x,W,null,o,H),B.push({event:x,listeners:le}))}}if((n&7)===0){e:{if(x=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",x&&o!==ss&&(W=o.relatedTarget||o.fromElement)&&(Mi(W)||W[Ri]))break e;if((U||x)&&(x=H.window===H?H:(x=H.ownerDocument)?x.defaultView||x.parentWindow:window,U?(W=o.relatedTarget||o.toElement,U=D,W=W?Mi(W):null,W!==null&&(qe=f(W),le=W.tag,W!==qe||le!==5&&le!==27&&le!==6)&&(W=null)):(U=null,W=D),U!==W)){if(le=gc,V="onMouseLeave",N="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(le=vc,V="onPointerLeave",N="onPointerEnter",R="pointer"),qe=U==null?x:_o(U),I=W==null?x:_o(W),x=new le(V,R+"leave",U,o,H),x.target=qe,x.relatedTarget=I,V=null,Mi(H)===D&&(le=new le(N,R+"enter",W,o,H),le.target=I,le.relatedTarget=qe,V=le),qe=V,U&&W)t:{for(le=vv,N=U,R=W,I=0,V=N;V;V=le(V))I++;V=0;for(var oe=R;oe;oe=le(oe))V++;for(;0<I-V;)N=le(N),I--;for(;0<V-I;)R=le(R),V--;for(;I--;){if(N===R||R!==null&&N===R.alternate){le=N;break t}N=le(N),R=le(R)}le=null}else le=null;U!==null&&cp(B,x,U,le,!1),W!==null&&qe!==null&&cp(B,qe,W,le,!0)}}e:{if(x=D?_o(D):window,U=x.nodeName&&x.nodeName.toLowerCase(),U==="select"||U==="input"&&x.type==="file")var Me=Mc;else if(Ac(x))if(Nc)Me=Dy;else{Me=Ny;var te=My}else U=x.nodeName,!U||U.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?D&&as(D.elementType)&&(Me=Mc):Me=Iy;if(Me&&(Me=Me(e,D))){Rc(B,Me,o,H);break e}te&&te(e,x,D),e==="focusout"&&D&&x.type==="number"&&D.memoizedProps.value!=null&&ls(x,"number",x.value)}switch(te=D?_o(D):window,e){case"focusin":(Ac(te)||te.contentEditable==="true")&&(Gi=te,Ss=D,xo=null);break;case"focusout":xo=Ss=Gi=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Gc(B,o,H);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":Gc(B,o,H)}var he;if(gs)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Li?_c(e,o)&&(Ee="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(Tc&&o.locale!=="ko"&&(Li||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Li&&(he=mc()):(Gn=H,fs="value"in Gn?Gn.value:Gn.textContent,Li=!0)),te=Ta(D,Ee),0<te.length&&(Ee=new yc(Ee,e,null,o,H),B.push({event:Ee,listeners:te}),he?Ee.data=he:(he=Cc(o),he!==null&&(Ee.data=he)))),(he=Ey?_y(e,o):Cy(e,o))&&(Ee=Ta(D,"onBeforeInput"),0<Ee.length&&(te=new yc("onBeforeInput","beforeinput",null,o,H),B.push({event:te,listeners:Ee}),te.data=he)),mv(B,e,D,o,H)}rp(B,n)})}function nl(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ta(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Co(e,o),d!=null&&s.unshift(nl(e,d,m)),d=Co(e,n),d!=null&&s.push(nl(e,d,m))),e.tag===3)return s;e=e.return}return[]}function vv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cp(e,n,o,s,d){for(var m=n._reactName,T=[];o!==null&&o!==s;){var _=o,A=_.alternate,D=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||D===null||(A=D,d?(D=Co(o,m),D!=null&&T.unshift(nl(o,D,A))):d||(D=Co(o,m),D!=null&&T.push(nl(o,D,A)))),o=o.return}T.length!==0&&e.push({event:n,listeners:T})}var Tv=/\r\n?/g,Sv=/\u0000|\uFFFD/g;function fp(e){return(typeof e=="string"?e:""+e).replace(Tv,`
`).replace(Sv,"")}function dp(e,n){return n=fp(n),fp(e)===n}function Ve(e,n,o,s,d,m){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||xi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&xi(e,""+s);break;case"className":Cl(e,"class",s);break;case"tabIndex":Cl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(e,o,s);break;case"style":fc(e,s,m);break;case"data":if(n!=="object"){Cl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Rl(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(n!=="input"&&Ve(e,n,"name",d.name,d,null),Ve(e,n,"formEncType",d.formEncType,d,null),Ve(e,n,"formMethod",d.formMethod,d,null),Ve(e,n,"formTarget",d.formTarget,d,null)):(Ve(e,n,"encType",d.encType,d,null),Ve(e,n,"method",d.method,d,null),Ve(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=Rl(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=dn);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=Rl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),_l(e,"popover",s);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":_l(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xg.get(o)||o,_l(e,o,s))}}function Jr(e,n,o,s,d,m){switch(o){case"style":fc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?xi(e,s):(typeof s=="number"||typeof s=="bigint")&&xi(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),m=e[Ct]||null,m=m!=null?m[o]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):_l(e,o,s)}}}function mt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var T=o[m];if(T!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ve(e,n,m,T,o,null)}}d&&Ve(e,n,"srcSet",o.srcSet,o,null),s&&Ve(e,n,"src",o.src,o,null);return;case"input":Te("invalid",e);var _=m=T=d=null,A=null,D=null;for(s in o)if(o.hasOwnProperty(s)){var H=o[s];if(H!=null)switch(s){case"name":d=H;break;case"type":T=H;break;case"checked":A=H;break;case"defaultChecked":D=H;break;case"value":m=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ve(e,n,s,H,o,null)}}sc(e,m,_,A,D,T,d,!1);return;case"select":Te("invalid",e),s=T=m=null;for(d in o)if(o.hasOwnProperty(d)&&(_=o[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":T=_;break;case"multiple":s=_;default:Ve(e,n,d,_,o,null)}n=m,o=T,e.multiple=!!s,n!=null?wi(e,!!s,n,!1):o!=null&&wi(e,!!s,o,!0);return;case"textarea":Te("invalid",e),m=d=s=null;for(T in o)if(o.hasOwnProperty(T)&&(_=o[T],_!=null))switch(T){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ve(e,n,T,_,o,null)}uc(e,s,d,m);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(s=o[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ve(e,n,A,s,o,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<tl.length;s++)Te(tl[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in o)if(o.hasOwnProperty(D)&&(s=o[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ve(e,n,D,s,o,null)}return;default:if(as(n)){for(H in o)o.hasOwnProperty(H)&&(s=o[H],s!==void 0&&Jr(e,n,H,s,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(s=o[_],s!=null&&Ve(e,n,_,s,o,null))}function Ev(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,_=null,A=null,D=null,H=null;for(U in o){var B=o[U];if(o.hasOwnProperty(U)&&B!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":A=B;default:s.hasOwnProperty(U)||Ve(e,n,U,null,s,B)}}for(var x in s){var U=s[x];if(B=o[x],s.hasOwnProperty(x)&&(U!=null||B!=null))switch(x){case"type":m=U;break;case"name":d=U;break;case"checked":D=U;break;case"defaultChecked":H=U;break;case"value":T=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:U!==B&&Ve(e,n,x,U,s,B)}}os(e,T,_,A,D,H,m,d);return;case"select":U=T=_=x=null;for(m in o)if(A=o[m],o.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":U=A;default:s.hasOwnProperty(m)||Ve(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=o[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":x=m;break;case"defaultValue":_=m;break;case"multiple":T=m;default:m!==A&&Ve(e,n,d,m,s,A)}n=_,o=T,s=U,x!=null?wi(e,!!o,x,!1):!!s!=!!o&&(n!=null?wi(e,!!o,n,!0):wi(e,!!o,o?[]:"",!1));return;case"textarea":U=x=null;for(_ in o)if(d=o[_],o.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ve(e,n,_,null,s,d)}for(T in s)if(d=s[T],m=o[T],s.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":x=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Ve(e,n,T,d,s,m)}rc(e,x,U);return;case"option":for(var W in o)if(x=o[W],o.hasOwnProperty(W)&&x!=null&&!s.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Ve(e,n,W,null,s,x)}for(A in s)if(x=s[A],U=o[A],s.hasOwnProperty(A)&&x!==U&&(x!=null||U!=null))switch(A){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Ve(e,n,A,x,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in o)x=o[le],o.hasOwnProperty(le)&&x!=null&&!s.hasOwnProperty(le)&&Ve(e,n,le,null,s,x);for(D in s)if(x=s[D],U=o[D],s.hasOwnProperty(D)&&x!==U&&(x!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(137,n));break;default:Ve(e,n,D,x,s,U)}return;default:if(as(n)){for(var qe in o)x=o[qe],o.hasOwnProperty(qe)&&x!==void 0&&!s.hasOwnProperty(qe)&&Jr(e,n,qe,void 0,s,x);for(H in s)x=s[H],U=o[H],!s.hasOwnProperty(H)||x===U||x===void 0&&U===void 0||Jr(e,n,H,x,s,U);return}}for(var N in o)x=o[N],o.hasOwnProperty(N)&&x!=null&&!s.hasOwnProperty(N)&&Ve(e,n,N,null,s,x);for(B in s)x=s[B],U=o[B],!s.hasOwnProperty(B)||x===U||x==null&&U==null||Ve(e,n,B,x,s,U)}function pp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _v(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],m=d.transferSize,T=d.initiatorType,_=d.duration;if(m&&_&&pp(T)){for(T=0,_=d.responseEnd,s+=1;s<o.length;s++){var A=o[s],D=A.startTime;if(D>_)break;var H=A.transferSize,B=A.initiatorType;H&&pp(B)&&(A=A.responseEnd,T+=H*(A<_?1:(_-D)/(A-D)))}if(--s,n+=8*(m+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kr=null,Xr=null;function Sa(e){return e.nodeType===9?e:e.ownerDocument}function mp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zr=null;function Cv(){var e=window.event;return e&&e.type==="popstate"?e===Zr?!1:(Zr=e,!0):(Zr=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(e){return yp.resolve(null).then(e).catch(Mv)}:gp;function Mv(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function vp(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),ro(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")il(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,il(o);for(var m=o.firstChild;m;){var T=m.nextSibling,_=m.nodeName;m[Eo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=T}}else o==="body"&&il(e.ownerDocument.body);o=d}while(o);ro(n)}function Tp(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function $r(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$r(o),ns(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Nv(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Eo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function Iv(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Qt(e.nextSibling),e===null))return null;return e}function Sp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function Wr(e){return e.data==="$?"||e.data==="$~"}function jr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Qt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var eu=null;function Ep(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Qt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function _p(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Cp(e,n,o){switch(n=Sa(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ns(e)}var Zt=new Map,Ap=new Set;function Ea(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=z.d;z.d={f:wv,r:xv,D:Uv,C:bv,L:Lv,m:Gv,X:Vv,S:Hv,M:qv};function wv(){var e=In.f(),n=da();return e||n}function xv(e){var n=Ni(e);n!==null&&n.tag===5&&n.type==="form"?zf(n):In.r(e)}var lo=typeof document>"u"?null:document;function Rp(e,n,o){var s=lo;if(s&&typeof n=="string"&&n){var d=kt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Ap.has(d)||(Ap.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),mt(n,"link",e),at(n),s.head.appendChild(n)))}}function Uv(e){In.D(e),Rp("dns-prefetch",e,null)}function bv(e,n){In.C(e,n),Rp("preconnect",e,n)}function Lv(e,n,o){In.L(e,n,o);var s=lo;if(s&&e&&n){var d='link[rel="preload"][as="'+kt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+kt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+kt(o.imageSizes)+'"]')):d+='[href="'+kt(e)+'"]';var m=d;switch(n){case"style":m=ao(e);break;case"script":m=so(e)}Zt.has(m)||(e=S({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Zt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(ol(m))||n==="script"&&s.querySelector(ll(m))||(n=s.createElement("link"),mt(n,"link",e),at(n),s.head.appendChild(n)))}}function Gv(e,n){In.m(e,n);var o=lo;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+kt(s)+'"][href="'+kt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=so(e)}if(!Zt.has(m)&&(e=S({rel:"modulepreload",href:e},n),Zt.set(m,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ll(m)))return}s=o.createElement("link"),mt(s,"link",e),at(s),o.head.appendChild(s)}}}function Hv(e,n,o){In.S(e,n,o);var s=lo;if(s&&e){var d=Ii(s).hoistableStyles,m=ao(e);n=n||"default";var T=d.get(m);if(!T){var _={loading:0,preload:null};if(T=s.querySelector(ol(m)))_.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Zt.get(m))&&tu(e,o);var A=T=s.createElement("link");at(A),mt(A,"link",e),A._p=new Promise(function(D,H){A.onload=D,A.onerror=H}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,_a(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(m,T)}}}function Vv(e,n){In.X(e,n);var o=lo;if(o&&e){var s=Ii(o).hoistableScripts,d=so(e),m=s.get(d);m||(m=o.querySelector(ll(d)),m||(e=S({src:e,async:!0},n),(n=Zt.get(d))&&nu(e,n),m=o.createElement("script"),at(m),mt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function qv(e,n){In.M(e,n);var o=lo;if(o&&e){var s=Ii(o).hoistableScripts,d=so(e),m=s.get(d);m||(m=o.querySelector(ll(d)),m||(e=S({src:e,async:!0,type:"module"},n),(n=Zt.get(d))&&nu(e,n),m=o.createElement("script"),at(m),mt(m,"link",e),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Mp(e,n,o,s){var d=(d=ee.current)?Ea(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=ao(o.href),o=Ii(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=ao(o.href);var m=Ii(d).hoistableStyles,T=m.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,T),(m=d.querySelector(ol(e)))&&!m._p&&(T.instance=m,T.state.loading=5),Zt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zt.set(e,o),m||Bv(d,e,o,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(o),o=Ii(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ao(e){return'href="'+kt(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function Np(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Bv(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),mt(n,"link",o),at(n),e.head.appendChild(n))}function so(e){return'[src="'+kt(e)+'"]'}function ll(e){return"script[async]"+e}function Ip(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+kt(o.href)+'"]');if(s)return n.instance=s,at(s),s;var d=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),at(s),mt(s,"style",d),_a(s,o.precedence,e),n.instance=s;case"stylesheet":d=ao(o.href);var m=e.querySelector(ol(d));if(m)return n.state.loading|=4,n.instance=m,at(m),m;s=Np(o),(d=Zt.get(d))&&tu(s,d),m=(e.ownerDocument||e).createElement("link"),at(m);var T=m;return T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),mt(m,"link",s),n.state.loading|=4,_a(m,o.precedence,e),n.instance=m;case"script":return m=so(o.src),(d=e.querySelector(ll(m)))?(n.instance=d,at(d),d):(s=o,(d=Zt.get(m))&&(s=S({},o),nu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),at(d),mt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,_a(s,o.precedence,e));return n.instance}function _a(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,T=0;T<s.length;T++){var _=s[T];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function tu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ca=null;function Dp(e,n,o){if(Ca===null){var s=new Map,d=Ca=new Map;d.set(o,s)}else d=Ca,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var m=o[d];if(!(m[Eo]||m[ct]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(n)||"";T=e+T;var _=s.get(T);_?_.push(m):s.set(T,[m])}}return s}function wp(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Pv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function zv(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=ao(s.href),m=n.querySelector(ol(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Aa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=m,at(m);return}m=n.ownerDocument||n,s=Np(s),(d=Zt.get(d))&&tu(s,d),m=m.createElement("link"),at(m);var T=m;T._p=new Promise(function(_,A){T.onload=_,T.onerror=A}),mt(m,"link",s),o.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Aa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var iu=0;function kv(e,n){return e.stylesheets&&e.count===0&&Ma(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&Ma(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&iu===0&&(iu=62500*_v());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ma(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>iu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Aa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ma(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ra=null;function Ma(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ra=new Map,n.forEach(Ov,e),Ra=null,Aa.call(e))}function Ov(e,n){if(!(n.state.loading&4)){var o=Ra.get(e);if(o)var s=o.get(null);else{o=new Map,Ra.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),s=T)}s&&o.set(null,s)}d=n.instance,T=d.getAttribute("data-precedence"),m=o.get(T)||s,m===s&&o.set(null,d),o.set(T,d),this.count++,s=Aa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var al={$$typeof:k,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Yv(e,n,o,s,d,m,T,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Up(e,n,o,s,d,m,T,_,A,D,H,B){return e=new Yv(e,n,o,T,A,D,H,B,_),n=1,m===!0&&(n|=24),m=bt(3,null,null,n),e.current=m,m.stateNode=e,n=Hs(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:o,cache:n},Ps(m),e}function bp(e){return e?(e=qi,e):qi}function Lp(e,n,o,s,d,m){d=bp(d),s.context===null?s.context=d:s.pendingContext=d,s=zn(n),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=kn(e,s,n),o!==null&&(Dt(o,e,n),qo(o,e,n))}function Gp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function ou(e,n){Gp(e,n),(e=e.alternate)&&Gp(e,n)}function Hp(e){if(e.tag===13||e.tag===31){var n=ci(e,67108864);n!==null&&Dt(n,e,67108864),ou(e,67108864)}}function Vp(e){if(e.tag===13||e.tag===31){var n=qt();n=ja(n);var o=ci(e,n);o!==null&&Dt(o,e,n),ou(e,n)}}var Na=!0;function Fv(e,n,o,s){var d=G.T;G.T=null;var m=z.p;try{z.p=2,lu(e,n,o,s)}finally{z.p=m,G.T=d}}function Jv(e,n,o,s){var d=G.T;G.T=null;var m=z.p;try{z.p=8,lu(e,n,o,s)}finally{z.p=m,G.T=d}}function lu(e,n,o,s){if(Na){var d=au(s);if(d===null)Fr(e,n,s,Ia,o),Bp(e,s);else if(Xv(d,e,n,o,s))s.stopPropagation();else if(Bp(e,s),n&4&&-1<Kv.indexOf(e)){for(;d!==null;){var m=Ni(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=li(m.pendingLanes);if(T!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var A=1<<31-xt(T);_.entanglements[1]|=A,T&=~A}cn(m),(De&6)===0&&(ca=be()+500,el(0))}}break;case 31:case 13:_=ci(m,2),_!==null&&Dt(_,m,2),da(),ou(m,2)}if(m=au(s),m===null&&Fr(e,n,s,Ia,o),m===d)break;d=m}d!==null&&s.stopPropagation()}else Fr(e,n,s,null,o)}}function au(e){return e=rs(e),su(e)}var Ia=null;function su(e){if(Ia=null,e=Mi(e),e!==null){var n=f(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=p(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ia=e,null}function qp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case Fu:return 2;case Ju:return 8;case yl:case bg:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var ru=!1,jn=null,ei=null,ti=null,sl=new Map,rl=new Map,ni=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(e,n){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function ul(e,n,o,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Ni(n),n!==null&&Hp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Xv(e,n,o,s,d){switch(n){case"focusin":return jn=ul(jn,e,n,o,s,d),!0;case"dragenter":return ei=ul(ei,e,n,o,s,d),!0;case"mouseover":return ti=ul(ti,e,n,o,s,d),!0;case"pointerover":var m=d.pointerId;return sl.set(m,ul(sl.get(m)||null,e,n,o,s,d)),!0;case"gotpointercapture":return m=d.pointerId,rl.set(m,ul(rl.get(m)||null,e,n,o,s,d)),!0}return!1}function Pp(e){var n=Mi(e.target);if(n!==null){var o=f(n);if(o!==null){if(n=o.tag,n===13){if(n=p(o),n!==null){e.blockedOn=n,ju(e.priority,function(){Vp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,ju(e.priority,function(){Vp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Da(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=au(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);ss=s,o.target.dispatchEvent(s),ss=null}else return n=Ni(o),n!==null&&Hp(n),e.blockedOn=o,!1;n.shift()}return!0}function zp(e,n,o){Da(e)&&o.delete(n)}function Qv(){ru=!1,jn!==null&&Da(jn)&&(jn=null),ei!==null&&Da(ei)&&(ei=null),ti!==null&&Da(ti)&&(ti=null),sl.forEach(zp),rl.forEach(zp)}function wa(e,n){e.blockedOn===n&&(e.blockedOn=null,ru||(ru=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Qv)))}var xa=null;function kp(e){xa!==e&&(xa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xa===e&&(xa=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(su(s||o)===null)continue;break}var m=Ni(o);m!==null&&(e.splice(n,3),n-=3,ar(m,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function ro(e){function n(A){return wa(A,e)}jn!==null&&wa(jn,e),ei!==null&&wa(ei,e),ti!==null&&wa(ti,e),sl.forEach(n),rl.forEach(n);for(var o=0;o<ni.length;o++){var s=ni[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ni.length&&(o=ni[0],o.blockedOn===null);)Pp(o),o.blockedOn===null&&ni.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],m=o[s+1],T=d[Ct]||null;if(typeof m=="function")T||kp(o);else if(T){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[Ct]||null)_=T.formAction;else if(su(d)!==null)continue}else _=T.action;typeof _=="function"?o[s+1]=_:(o.splice(s,3),s-=3),kp(o)}}}function Op(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function uu(e){this._internalRoot=e}Ua.prototype.render=uu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=qt();Lp(o,s,e,n,null,null)},Ua.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Lp(e.current,2,null,e,null,null),da(),n[Ri]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wu();e={blockedOn:null,target:e,priority:n};for(var o=0;o<ni.length&&n!==0&&n<ni[o].priority;o++);ni.splice(o,0,e),o===0&&Pp(e)}};var Yp=t.version;if(Yp!=="19.2.3")throw Error(a(527,Yp,"19.2.3"));z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Zv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ba.isDisabled&&ba.supportsFiber)try{vo=ba.inject(Zv),wt=ba}catch{}}return fl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=$f,m=Wf,T=jf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Up(e,1,!1,null,null,o,s,null,d,m,T,Op),e[Ri]=n.current,Yr(e),new uu(n)},fl.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",m=$f,T=Wf,_=jf,A=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=Up(e,1,!0,n,o??null,s,d,A,m,T,_,Op),n.context=bp(null),o=n.current,s=qt(),s=ja(s),d=zn(s),d.callback=null,kn(o,d,s),o=s,n.current.lanes=o,So(n,o),cn(n),e[Ri]=n.current,Yr(e),new Ua(n)},fl.version="19.2.3",fl}var em;function s0(){if(em)return du.exports;em=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),du.exports=a0(),du.exports}var r0=s0();const u0=qh(r0),c0="modulepreload",f0=function(i){return"/"+i},tm={},Bh=function(t,l,a){let r=Promise.resolve();if(l&&l.length>0){let p=function(h){return Promise.all(h.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));r=p(l.map(h=>{if(h=f0(h),h in tm)return;tm[h]=!0;const v=h.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${S}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":c0,v||(E.as="script"),E.crossOrigin="",E.href=h,y&&E.setAttribute("nonce",y),document.head.appendChild(E),v)return new Promise((C,w)=>{E.addEventListener("load",C),E.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function f(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return r.then(p=>{for(const g of p||[])g.status==="rejected"&&f(g.reason);return t().catch(f)})};var d0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let p0,m0;function h0(){return{geminiUrl:p0,vertexUrl:m0}}function g0(i,t,l,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=h0();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wn{}function J(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),l[h])}else for(const h of y)c(h,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),l);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function y0(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Tu(i,r,f,0,p)}}function Tu(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Tu(y,t,l,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const S=[];for(const E of l.slice(a))E==="*"?S.push(h):S.push(E);c(p,S,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Tu(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v0(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function T0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],E0(p)),t}function S0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],_0(p)),t}function E0(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>C0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function _0(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>A0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function C0(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],w0(l)),t}function A0(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],x0(l)),t}function R0(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function M0(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function N0(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],I0(p)),t}function I0(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Ph(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],D0(p)),t}function D0(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function w0(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Gu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function x0(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Gu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(nm||(nm={}));var im;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(im||(im={}));var om;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(om||(om={}));var Pt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Pt||(Pt={}));var lm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(lm||(lm={}));var am;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(am||(am={}));var sm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(sm||(sm={}));var rm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(rm||(rm={}));var um;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(um||(um={}));var cm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(cm||(cm={}));var fm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(fm||(fm={}));var dm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(dm||(dm={}));var pm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(pm||(pm={}));var mm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(mm||(mm={}));var hm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(hm||(hm={}));var gm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(gm||(gm={}));var ym;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(ym||(ym={}));var vm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vm||(vm={}));var Tm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Tm||(Tm={}));var Sm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Sm||(Sm={}));var Em;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Em||(Em={}));var hl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(hl||(hl={}));var _m;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_m||(_m={}));var Cm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Cm||(Cm={}));var Am;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Am||(Am={}));var Su;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Su||(Su={}));var Rm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rm||(Rm={}));var Mm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Mm||(Mm={}));var Eu;(function(i){i.COLLECTION="COLLECTION"})(Eu||(Eu={}));var Nm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Nm||(Nm={}));var Im;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Im||(Im={}));var Dm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Dm||(Dm={}));var wm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(wm||(wm={}));var xm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(xm||(xm={}));var Um;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Um||(Um={}));var bm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bm||(bm={}));var Lm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Lm||(Lm={}));var Gm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gm||(Gm={}));var Hm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Hm||(Hm={}));var Vm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Vm||(Vm={}));var qm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(qm||(qm={}));var Bm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Bm||(Bm={}));var Pm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Pm||(Pm={}));var zm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(zm||(zm={}));var km;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(km||(km={}));var Om;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Om||(Om={}));var Ym;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ym||(Ym={}));var Fm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Fm||(Fm={}));var Jm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Jm||(Jm={}));var Km;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Km||(Km={}));var Xm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xm||(Xm={}));var Qm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qm||(Qm={}));var Zm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Zm||(Zm={}));var $m;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($m||($m={}));var Wm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Wm||(Wm={}));var jm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(jm||(jm={}));var co;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(co||(co={}));class _u{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class dl{get text(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const S=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(w!==null||w!==void 0)&&S.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const S of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(h+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,f,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,f,p,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class eh{}class th{}class U0{}class b0{}class L0{}class G0{}class nh{}class ih{}class oh{}class H0{}class za{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new za;let r;const f=t;return l?r=S0(f):r=T0(f),Object.assign(a,r),a}}class lh{}class ah{}class sh{}class rh{}class V0{}class q0{}class B0{}class Hu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Hu,f=N0(t);return Object.assign(a,f),a}}class P0{}class z0{}class k0{}class uh{}class O0{get text(){var t,l,a;let r="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Y0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Vu,f=Ph(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function zh(i,t){const l=Ie(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function kh(i){return Array.isArray(i)?i.map(t=>ka(t)):[ka(i)]}function ka(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Oh(i){const t=ka(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Yh(i){const t=ka(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ch(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Fh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>ch(t)):[ch(i)]}function Cu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function fh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function dh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function vt(i){if(i==null)throw new Error("ContentUnion is required");return Cu(i)?i:{role:"user",parts:Fh(i)}}function qu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=vt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=vt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>vt(l)):[vt(t)]}function $t(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(fh(i)||dh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vt(i)]}const t=[],l=[],a=Cu(i[0]);for(const r of i){const f=Cu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(fh(r)||dh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Fh(l)}),t}function F0(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Pt).includes(l[0].toUpperCase())?l[0].toUpperCase():Pt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Pt).includes(a.toUpperCase())?a.toUpperCase():Pt.TYPE_UNSPECIFIED})}}function po(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&F0(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Pt).includes(g.toUpperCase())?g.toUpperCase():Pt.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=po(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(po(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=po(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Bu(i){return po(i)}function Pu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function zu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ho(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=po(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=po(t.response));return i}function go(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function J0(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function xn(i,t){if(typeof t!="string")throw new Error("name must be a string");return J0(i,t,"cachedContents")}function Jh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function oi(i){return Gu(i)}function K0(i){return i!=null&&typeof i=="object"&&"name"in i}function X0(i){return i!=null&&typeof i=="object"&&"video"in i}function Q0(i){return i!=null&&typeof i=="object"&&"uri"in i}function Kh(i){var t;let l;if(K0(i)&&(l=i.name),!(Q0(i)&&(l=i.uri,l===void 0))&&!(X0(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Xh(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Qh(i){for(const t of["models","tunedModels","publisherModels"])if(Z0(i,t))return i[t];return[]}function Z0(i,t){return i!==null&&typeof i=="object"&&t in i}function $0(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function W0(i,t={}){const l=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=$0(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function Zh(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function j0(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function $h(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function yo(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Wh(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eT(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>LT(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function tT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function nT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ba(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Wh(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],eT($h(h))),t}function Au(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],Wh(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const S=u(i,["inputConfig"]);S!=null&&c(t,["src"],iT(S));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],tT($h(E)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function iT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function oT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>bT(i,p))),c(l,["requests","requests"],f)}return l}function lT(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function aT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function sT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function rT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function uT(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],cT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function cT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function jh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>zT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function fT(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function dT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],nT(j0(r))),l}function ph(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],oT(i,Zh(i,r)));const f=u(t,["config"]);return f!=null&&fT(f,l),l}function pT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],lT(Zh(i,r)));const f=u(t,["config"]);return f!=null&&dT(f,l),l}function mT(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function hT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],_T(i,r));const f=u(t,["config"]);return f!=null&&mT(f,l),l}function gT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function yT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function vT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function TT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function ST(i,t){const l={},a=u(t,["contents"]);if(a!=null){let f=qu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],ET(r,l)),y0(l,{"requests[].*":"requests[].request.*"})),l}function ET(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function _T(i,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],ST(i,r)),l}function CT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function AT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function RT(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function MT(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],jh(vt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Bu(P));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(t,["safetySettings"]);if(l!==void 0&&k!=null){let Ce=k;Array.isArray(Ce)&&(Ce=Ce.map(Pe=>kT(Pe))),c(l,["safetySettings"],Ce)}const Q=u(t,["tools"]);if(l!==void 0&&Q!=null){let Ce=go(Q);Array.isArray(Ce)&&(Ce=Ce.map(Pe=>YT(ho(Pe)))),c(l,["tools"],Ce)}const X=u(t,["toolConfig"]);if(l!==void 0&&X!=null&&c(l,["toolConfig"],OT(X)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(t,["cachedContent"]);l!==void 0&&$!=null&&c(l,["cachedContent"],xn(i,$));const O=u(t,["responseModalities"]);O!=null&&c(a,["responseModalities"],O);const ge=u(t,["mediaResolution"]);ge!=null&&c(a,["mediaResolution"],ge);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],Pu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],UT(ye));const Re=u(t,["enableEnhancedCivicAnswers"]);if(Re!=null&&c(a,["enableEnhancedCivicAnswers"],Re),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function NT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>uT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function IT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function DT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],yo(i,a)),l}function wT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function xT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function UT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let g=$t(r);Array.isArray(g)&&(g=g.map(y=>jh(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],MT(i,p,u(l,["request"],{}))),l}function LT(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],NT(l));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function GT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function HT(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function VT(i){const t={},l=u(i,["config"]);return l!=null&&GT(l,t),t}function qT(i){const t={},l=u(i,["config"]);return l!=null&&HT(l,t),t}function BT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ba(p))),c(t,["batchJobs"],f)}return t}function PT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Au(p))),c(t,["batchJobs"],f)}return t}function zT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],CT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],AT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],aT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function kT(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function OT(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],RT(a)),t}function YT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],wT(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],xT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Dn||(Dn={}));class Ai{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FT extends wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ai(Dn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=ph(this.apiClient,t),a=l._url,r=J("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const S=Object.assign({},v);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=E,S.request=C}h.push(S)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pT(this.apiClient,t);return g=J("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const h=ph(this.apiClient,t);return g=J("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ba(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hT(this.apiClient,t);return f=J("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ba(y))}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DT(this.apiClient,t);return g=J("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Au(v))}else{const h=IT(this.apiClient,t);return g=J("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ba(v))}}async cancel(t){var l,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=rT(this.apiClient,t);p=J("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=sT(this.apiClient,t);p=J("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=qT(t);return g=J("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=PT(v),E=new uh;return Object.assign(E,S),E})}else{const h=VT(t);return g=J("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=BT(v),E=new uh;return Object.assign(E,S),E})}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=yT(this.apiClient,t);return g=J("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>TT(v))}else{const h=gT(this.apiClient,t);return g=J("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>vT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>hS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function KT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=$t(p);Array.isArray(v)&&(v=v.map(S=>mh(S))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],mh(vt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(S=>yS(S))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],gS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function XT(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=$t(p);Array.isArray(S)&&(S=S.map(E=>E)),c(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],vt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>vS(E))),c(t,["tools"],S)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function QT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],zh(i,a));const r=u(t,["config"]);return r!=null&&KT(r,l),l}function ZT(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],zh(i,a));const r=u(t,["config"]);return r!=null&&XT(r,l),l}function $T(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],xn(i,a)),l}function WT(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],xn(i,a)),l}function jT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function eS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function tS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function nS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function oS(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function lS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],xn(i,a)),l}function aS(i,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],xn(i,a)),l}function sS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function rS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function uS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function cS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function fS(i){const t={},l=u(i,["config"]);return l!=null&&uS(l,t),t}function dS(i){const t={},l=u(i,["config"]);return l!=null&&cS(l,t),t}function pS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function mS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function hS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],tS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],nS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],JT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function gS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],iS(a)),t}function yS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],sS(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],rS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function vS(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>oS(E))),c(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function TS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function SS(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function ES(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],xn(i,a));const r=u(t,["config"]);return r!=null&&TS(r,l),l}function _S(i,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],xn(i,a));const r=u(t,["config"]);return r!=null&&SS(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CS extends wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ai(Dn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZT(this.apiClient,t);return g=J("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=QT(this.apiClient,t);return g=J("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=aS(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=lS(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=WT(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=eS(v),E=new sh;return Object.assign(E,S),E})}else{const h=$T(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=jT(v),E=new sh;return Object.assign(E,S),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=_S(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=ES(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dS(t);return g=J("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=mS(v),E=new rh;return Object.assign(E,S),E})}else{const h=fS(t);return g=J("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=pS(v),E=new rh;return Object.assign(E,S),E})}}}function Oa(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function hh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(i){return this instanceof re?(this.v=i,this):new re(i)}function on(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(w){return Promise.resolve(w).then(C,S)}}function g(C,w){a[C]&&(r[C]=function(L){return new Promise(function(b,P){f.push([C,L,b,P])>1||y(C,L)})},w&&(r[C]=w(r[C])))}function y(C,w){try{h(a[C](w))}catch(L){E(f[0][3],L)}}function h(C){C.value instanceof re?Promise.resolve(C.value.v).then(v,S):E(f[0][2],C)}function v(C){y("next",C)}function S(C){y("throw",C)}function E(C,w){C(w),f.shift(),f.length&&y(f[0][0],f[0][1])}}function ln(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof hh=="function"?hh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:eg(l)}function eg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function RS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function gh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),f&&!eg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class MS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new NS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class NS{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),RS(f)}async sendMessage(t){var l;await this.sendPromise;const a=vt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(S))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=vt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?gh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return on(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var S=!0,E=ln(t),C;C=yield re(E.next()),r=C.done,!r;S=!0){g=C.value,S=!1;const w=g;if(AS(w)){const L=(h=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;L!==void 0&&v.push(L)}yield yield re(w)}}catch(w){f={error:w}}finally{try{!S&&!r&&(p=E.return)&&(yield re(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...gh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,gl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function DS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function wS(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],Kh(l)),t}function xS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function US(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],Kh(l)),t}function bS(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function LS(i){const t={},l=u(i,["config"]);return l!=null&&bS(l,t),t}function GS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS extends wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ai(Dn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LS(t);return f=J("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=GS(y),v=new P0;return Object.assign(v,h),v})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IS(t);return f=J("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=DS(y),v=new z0;return Object.assign(v,h),v})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=US(t);return f=J("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wS(t);return f=J("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=xS(y),v=new k0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pa(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function VS(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>jS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function qS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function BS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PS(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function zS(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const b=u(i,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const k=u(i,["stopSequences"]);k!=null&&c(t,["stopSequences"],k);const Q=u(i,["temperature"]);Q!=null&&c(t,["temperature"],Q);const X=u(i,["thinkingConfig"]);X!=null&&c(t,["thinkingConfig"],X);const $=u(i,["topK"]);$!=null&&c(t,["topK"],$);const O=u(i,["topP"]);if(O!=null&&c(t,["topP"],O),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function kS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function OS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function YS(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],zu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],VS(vt(w)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let $=go(L);Array.isArray($)&&($=$.map(O=>tE(ho(O)))),c(t,["setup","tools"],$)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],eE(b));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&c(t,["setup","realtimeInputConfig"],k);const Q=u(i,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const X=u(i,["proactivity"]);if(t!==void 0&&X!=null&&c(t,["setup","proactivity"],X),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function FS(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],zS(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],zu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],vt(w));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let O=go(L);Array.isArray(O)&&(O=O.map(ge=>nE(ho(ge)))),c(t,["setup","tools"],O)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],b);const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&c(t,["setup","realtimeInputConfig"],k);const Q=u(i,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const X=u(i,["proactivity"]);t!==void 0&&X!=null&&c(t,["setup","proactivity"],X);const $=u(i,["explicitVadSignal"]);return t!==void 0&&$!=null&&c(t,["setup","explicitVadSignal"],$),l}function JS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],YS(r,l)),l}function KS(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],FS(r,l)),l}function XS(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function QS(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function ZS(i){const t={},l=u(i,["media"]);if(l!=null){let h=kh(l);Array.isArray(h)&&(h=h.map(v=>Pa(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Pa(Yh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Pa(Oh(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function $S(i){const t={},l=u(i,["media"]);if(l!=null){let h=kh(l);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Yh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Oh(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function WS(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],iE(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&c(t,["voiceActivityDetectionSignal"],h);const v=u(i,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],oE(v)),t}function jS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],qS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],BS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Pa(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function eE(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function tE(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],kS(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],OS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function nE(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>PS(E))),c(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function iE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["responseTokensDetails"],C)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let C=S;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}function oE(i){const t={},l=u(i,["type"]);return l!=null&&c(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function aE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],sE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&c(t,["urlContextMetadata"],S),t}function sE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function rE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let f=$t(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function uE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function cE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],fE(a)),t}function fE(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ja(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>S_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function dE(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function pE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function mE(i,t){const l={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],vt(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>og(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],l_(f)),l}function hE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&pE(f),l}function gE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&mE(f,l),l}function yE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function vE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function TE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ie(i,a)),l}function SE(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ie(i,a)),l}function EE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function _E(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function CE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const b=u(i,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const K=u(i,["editMode"]);t!==void 0&&K!=null&&c(t,["parameters","editMode"],K);const k=u(i,["baseSteps"]);return t!==void 0&&k!=null&&c(t,["parameters","editConfig","baseSteps"],k),l}function AE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>M_(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&CE(p,l),l}function RE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ka(f))),c(t,["generatedImages"],r)}return t}function ME(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function NE(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function IE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let g=qu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&ME(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],Ie(i,p)),l}function DE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=qu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&NE(f,l),l}function wE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function xE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>cE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function UE(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function bE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function LE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function GE(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function HE(i){const t={},l=u(i,["description"]);l!=null&&c(t,["description"],l);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function VE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Ja(vt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Bu(P));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(t,["safetySettings"]);if(l!==void 0&&k!=null){let Ce=k;Array.isArray(Ce)&&(Ce=Ce.map(Pe=>N_(Pe))),c(l,["safetySettings"],Ce)}const Q=u(t,["tools"]);if(l!==void 0&&Q!=null){let Ce=go(Q);Array.isArray(Ce)&&(Ce=Ce.map(Pe=>L_(ho(Pe)))),c(l,["tools"],Ce)}const X=u(t,["toolConfig"]);if(l!==void 0&&X!=null&&c(l,["toolConfig"],b_(X)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(t,["cachedContent"]);l!==void 0&&$!=null&&c(l,["cachedContent"],xn(i,$));const O=u(t,["responseModalities"]);O!=null&&c(a,["responseModalities"],O);const ge=u(t,["mediaResolution"]);ge!=null&&c(a,["mediaResolution"],ge);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],Pu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=u(t,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const ye=u(t,["imageConfig"]);ye!=null&&c(a,["imageConfig"],c_(ye));const Re=u(t,["enableEnhancedCivicAnswers"]);if(Re!=null&&c(a,["enableEnhancedCivicAnswers"],Re),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function qE(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],vt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const S=u(t,["responseLogprobs"]);S!=null&&c(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const L=u(t,["seed"]);L!=null&&c(a,["seed"],L);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Bu(P));const K=u(t,["responseJsonSchema"]);K!=null&&c(a,["responseJsonSchema"],K);const k=u(t,["routingConfig"]);k!=null&&c(a,["routingConfig"],k);const Q=u(t,["modelSelectionConfig"]);Q!=null&&c(a,["modelConfig"],Q);const X=u(t,["safetySettings"]);if(l!==void 0&&X!=null){let z=X;Array.isArray(z)&&(z=z.map(ne=>ne)),c(l,["safetySettings"],z)}const $=u(t,["tools"]);if(l!==void 0&&$!=null){let z=go($);Array.isArray(z)&&(z=z.map(ne=>og(ho(ne)))),c(l,["tools"],z)}const O=u(t,["toolConfig"]);l!==void 0&&O!=null&&c(l,["toolConfig"],O);const ge=u(t,["labels"]);l!==void 0&&ge!=null&&c(l,["labels"],ge);const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&c(l,["cachedContent"],xn(i,Z));const se=u(t,["responseModalities"]);se!=null&&c(a,["responseModalities"],se);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const Re=u(t,["speechConfig"]);Re!=null&&c(a,["speechConfig"],Pu(Re));const Ce=u(t,["audioTimestamp"]);Ce!=null&&c(a,["audioTimestamp"],Ce);const Pe=u(t,["thinkingConfig"]);Pe!=null&&c(a,["thinkingConfig"],Pe);const nt=u(t,["imageConfig"]);if(nt!=null&&c(a,["imageConfig"],f_(nt)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=u(t,["modelArmorConfig"]);return l!==void 0&&G!=null&&c(l,["modelArmorConfig"],G),a}function yh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>Ja(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],VE(i,f,l)),l}function vh(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=$t(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],qE(i,f,l)),l}function Th(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>aE(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Sh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function BE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function PE(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["includeSafetyAttributes"]);t!==void 0&&S!=null&&c(t,["parameters","includeSafetyAttributes"],S);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const L=u(i,["outputCompressionQuality"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","compressionQuality"],L);const b=u(i,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const P=u(i,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const K=u(i,["imageSize"]);t!==void 0&&K!=null&&c(t,["parameters","sampleImageSize"],K);const k=u(i,["enhancePrompt"]);return t!==void 0&&k!=null&&c(t,["parameters","enhancePrompt"],k),l}function zE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&BE(f,l),l}function kE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&PE(f,l),l}function OE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>t_(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ng(r)),t}function YE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Ka(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ig(r)),t}function FE(i,t){const l={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Xa(v));const S=u(i,["referenceImages"]);if(t!==void 0&&S!=null){let E=S;Array.isArray(E)&&(E=E.map(C=>K_(C))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function JE(i,t){const l={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const S=u(i,["pubsubTopic"]);t!==void 0&&S!=null&&c(t,["parameters","pubsubTopic"],S);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const w=u(i,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const L=u(i,["lastFrame"]);t!==void 0&&L!=null&&c(t,["instances[0]","lastFrame"],an(L));const b=u(i,["referenceImages"]);if(t!==void 0&&b!=null){let k=b;Array.isArray(k)&&(k=k.map(Q=>X_(Q))),c(t,["instances[0]","referenceImages"],k)}const P=u(i,["mask"]);t!==void 0&&P!=null&&c(t,["instances[0]","mask"],J_(P));const K=u(i,["compressionQuality"]);return t!==void 0&&K!=null&&c(t,["parameters","compressionQuality"],K),l}function KE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],$E(p)),t}function XE(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],WE(p)),t}function QE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Xa(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],lg(p));const g=u(t,["source"]);g!=null&&jE(g,l);const y=u(t,["config"]);return y!=null&&FE(y,l),l}function ZE(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],an(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],ag(p));const g=u(t,["source"]);g!=null&&e_(g,l);const y=u(t,["config"]);return y!=null&&JE(y,l),l}function $E(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>i_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function WE(i){const t={},l=u(i,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>o_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function jE(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Xa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],lg(f)),l}function e_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],an(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],ag(f)),l}function t_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],d_(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],ng(r)),t}function Ka(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],tg(l));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],ig(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function n_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],tg(l));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function i_(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],Y_(l)),t}function o_(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],F_(l)),t}function l_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const S=u(i,["presencePenalty"]);S!=null&&c(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const L=u(i,["responseSchema"]);L!=null&&c(t,["responseSchema"],L);const b=u(i,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const P=u(i,["seed"]);P!=null&&c(t,["seed"],P);const K=u(i,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const k=u(i,["stopSequences"]);k!=null&&c(t,["stopSequences"],k);const Q=u(i,["temperature"]);Q!=null&&c(t,["temperature"],Q);const X=u(i,["thinkingConfig"]);X!=null&&c(t,["thinkingConfig"],X);const $=u(i,["topK"]);$!=null&&c(t,["topK"],$);const O=u(i,["topP"]);if(O!=null&&c(t,["topP"],O),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function a_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ie(i,a)),l}function s_(i,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ie(i,a)),l}function r_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function u_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function c_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function f_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(i,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function d_(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],oi(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function tg(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],oi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Xa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],oi(l));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function an(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],oi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function p_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Xh(i,g)),a}function m_(i,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Xh(i,g)),a}function h_(i,t){const l={},a=u(t,["config"]);return a!=null&&p_(i,a,l),l}function g_(i,t){const l={},a=u(t,["config"]);return a!=null&&m_(i,a,l),l}function y_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Qh(r);Array.isArray(f)&&(f=f.map(p=>Ru(p))),c(t,["models"],f)}return t}function v_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Qh(r);Array.isArray(f)&&(f=f.map(p=>Mu(p))),c(t,["models"],f)}return t}function T_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Ru(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],G_(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const S=u(i,["maxTemperature"]);S!=null&&c(t,["maxTemperature"],S);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const w=u(i,["thinking"]);return w!=null&&c(t,["thinking"],w),t}function Mu(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>UE(E))),c(t,["endpoints"],S)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],H_(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),c(t,["checkpoints"],S)}return t}function S_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],bE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],LE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],lE(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function E_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],an(l)),t}function __(i,t){const l={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const S=u(i,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),l}function C_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["source"]);r!=null&&R_(r,l);const f=u(t,["config"]);return f!=null&&__(f,l),l}function A_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Ka(r))),c(t,["generatedImages"],a)}return t}function R_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],an(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>E_(g))),c(t,["instances[0]","productImages"],p)}return l}function M_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],an(l));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],T_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],dE(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function ng(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function ig(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function N_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function I_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],an(l)),t}function D_(i,t){const l={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function w_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["source"]);r!=null&&U_(r,l);const f=u(t,["config"]);return f!=null&&D_(f,l),l}function x_(i){const t={},l=u(i,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>n_(r))),c(t,["generatedMasks"],a)}return t}function U_(i,t){const l={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],an(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],I_(f)),l}function b_(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],GE(a)),t}function L_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],r_(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],u_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function og(i){const t={},l=u(i,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>HE(E))),c(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function G_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function H_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function V_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function q_(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function B_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Ie(i,a));const r=u(t,["config"]);return r!=null&&V_(r,l),l}function P_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&q_(r,l),l}function z_(i,t){const l={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),l}function k_(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ie(i,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],an(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&z_(p,l),l}function O_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Ka(f))),c(t,["generatedImages"],r)}return t}function Y_(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],oi(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function F_(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],oi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function J_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],an(l));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function K_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Xa(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function X_(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],an(l));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function lg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],oi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function ag(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],oi(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q_(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function Z_(i){const t={},l=u(i,["config"]);return l!=null&&Q_(l,t),t}function $_(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function W_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&$_(a,t),t}function j_(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function eC(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function tC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],iC(p)),t}function nC(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&eC(r,t),t}function iC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function oC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function lC(i){const t={},l=u(i,["config"]);return l!=null&&oC(l,t),t}function aC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function sg(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function sC(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&sg(a,t),t}function rC(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uC="Content-Type",cC="X-Server-Timeout",fC="User-Agent",Nu="x-goog-api-client",dC="1.38.0",pC=`google-genai-sdk/${dC}`,mC="v1beta1",hC="v1beta";class gC{constructor(t){var l,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(l=t.httpOptions)===null||l===void 0?void 0:l.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const f={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(f.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?f.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(f.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),f.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:mC}else{if(!this.clientOptions.apiKey)throw new gl({message:"API key must be set when using the Gemini API.",status:403});f.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:hC,f.baseUrl="https://generativelanguage.googleapis.com/"}f.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=f,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(f,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,l){return!(l.baseUrl&&l.baseUrlResourceScope===Eu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&yC(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Eh(r),new _u(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Eh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return on(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield re(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=f.decode(v,{stream:!0});try{const w=JSON.parse(S);if("error"in w){const L=JSON.parse(JSON.stringify(w.error)),b=L.status,P=L.code,K=`got status: ${b}. ${JSON.stringify(w)}`;if(P>=400&&P<600)throw new gl({message:K,status:P})}}catch(w){if(w.name==="ApiError")throw w}p+=S;let E=-1,C=0;for(;;){E=-1,C=0;for(const b of y){const P=p.indexOf(b);P!==-1&&(E===-1||P<E)&&(E=P,C=b.length)}if(E===-1)break;const w=p.substring(0,E);p=p.substring(E+C);const L=w.trim();if(L.startsWith(g)){const b=L.substring(g.length).trim();try{const P=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield re(new _u(P))}catch(P){throw new Error(`exception parsing stream chunk ${b}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=pC+" "+this.clientOptions.userAgentExtra;return t[fC]=l,t[Nu]=l,t[uC]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(cC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=J("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return f.upload(t,S,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),S={};a!=null&&sg(a,S);const E=await this.fetchUploadUrl(h,g,y,v,S,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Eh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new gl({message:r,status:l}):new Error(r)}}function yC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vC="mcp_used/unknown";let TC=!1;function rg(i){for(const t of i)if(SC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return TC}function ug(i){var t;const l=(t=i[Nu])!==null&&t!==void 0?t:"";i[Nu]=(l+` ${vC}`).trimStart()}function SC(i){return i!==null&&typeof i=="object"&&i instanceof ku}function EC(i){return on(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield re(l.listTools({cursor:r}));for(const g of p.tools)yield yield re(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class ku{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new ku(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,ln(EC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const S=r;p.push(S);const E=S.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(S){l={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),W0(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function _C(i,t,l){const a=new Y0;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class CC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=MC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(k=>{h=k}),S=t.callbacks,E=function(){h({})},C=this.apiClient,w={onopen:E,onmessage:k=>{_C(C,S.onmessage,k)},onerror:(l=S==null?void 0:S.onerror)!==null&&l!==void 0?l:function(k){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(k){}},L=this.webSocketFactory.create(y,RC(p),w);L.connect(),await v;const K={setup:{model:Ie(this.apiClient,t.model)}};return L.send(JSON.stringify(K)),new AC(L,this.apiClient)}}class AC{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=QS(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=XS(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(co.PLAY)}pause(){this.sendPlaybackControl(co.PAUSE)}stop(){this.sendPlaybackControl(co.STOP)}resetContext(){this.sendPlaybackControl(co.RESET_CONTEXT)}close(){this.conn.close()}}function RC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function MC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IC(i,t,l){const a=new O0;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=WS(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class DC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new CC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&rg(t.config.tools)&&ug(S);const E=bC(S);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),se=this.apiClient.getLocation(),ye=this.apiClient.getApiKey(),Re=!!Z&&!!se||!!ye;this.apiClient.getCustomBaseUrl()&&!Re?v=y:(v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const Z=this.apiClient.getApiKey();let se="BidiGenerateContent",ye="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",ye="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${ye}=${Z}`}let C=()=>{};const w=new Promise(Z=>{C=Z}),L=t.callbacks,b=function(){var Z;(Z=L==null?void 0:L.onopen)===null||Z===void 0||Z.call(L),C({})},P=this.apiClient,K={onopen:b,onmessage:Z=>{IC(P,L.onmessage,Z)},onerror:(l=L==null?void 0:L.onerror)!==null&&l!==void 0?l:function(Z){},onclose:(a=L==null?void 0:L.onclose)!==null&&a!==void 0?a:function(Z){}},k=this.webSocketFactory.create(v,UC(E),K);k.connect(),await w;let Q=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Q.startsWith("publishers/")){const Z=this.apiClient.getProject(),se=this.apiClient.getLocation();Z&&se&&(Q=`projects/${Z}/locations/${se}/`+Q)}let X={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[hl.AUDIO]}:t.config.responseModalities=[hl.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],O=[];for(const Z of $)if(this.isCallableTool(Z)){const se=Z;O.push(await se.tool())}else O.push(Z);O.length>0&&(t.config.tools=O);const ge={model:Q,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?X=KS(this.apiClient,ge):X=JS(this.apiClient,ge),delete X.config,k.send(JSON.stringify(X)),new xC(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const wC={turnComplete:!0};class xC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=$t(l.turns),t.isVertexAI()||(a=a.map(r=>Ja(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(NC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},wC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:$S(t)}:l={realtimeInput:ZS(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function UC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function bC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _h=10;function Ch(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(mo(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function mo(i){return"callTool"in i&&typeof i.callTool=="function"}function LC(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>mo(r)))!==null&&a!==void 0?a:!1}function Ah(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(mo(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Rh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC extends wn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!LC(l)||Ch(l.config))return await this.generateContentInternal(y);const h=Ah(l);if(h.length>0){const L=h.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,S;const E=$t(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:_h;let w=0;for(;w<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,b=[];for(const P of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(mo(P)){const k=await P.callTool(v.functionCalls);b.push(...k)}w++,S={role:"user",parts:b},y.contents=$t(y.contents),y.contents.push(L),y.contents.push(S),Rh(y.config)&&(E.push(L),E.push(S))}return Rh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async l=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),Ch(l.config)){const S=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(S)}const y=Ah(l);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Ai(Dn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>mo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&rg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),ug(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(mo(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:_h;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,S){return on(this,arguments,function*(){for(var E,C,w,L,b,P;g<f;){p&&(g++,p=!1);const X=yield re(h.processParamsMaybeAddMcpUsage(S)),$=yield re(h.generateContentStreamInternal(X)),O=[],ge=[];try{for(var K=!0,k=(C=void 0,ln($)),Q;Q=yield re(k.next()),E=Q.done,!E;K=!0){L=Q.value,K=!1;const Z=L;if(yield yield re(Z),Z.candidates&&(!((b=Z.candidates[0])===null||b===void 0)&&b.content)){ge.push(Z.candidates[0].content);for(const se of(P=Z.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(g<f&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(se.functionCall.name)){const ye=yield re(v.get(se.functionCall.name).callTool([se.functionCall]));O.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(Z){C={error:Z}}finally{try{!K&&!E&&(w=k.return)&&(yield re(w.call(k)))}finally{if(C)throw C.error}}if(O.length>0){p=!0;const Z=new dl;Z.candidates=[{content:{role:"user",parts:O}}],yield yield re(Z);const se=[];se.push(...ge),se.push({role:"user",parts:O});const ye=$t(S.contents).concat(se);S.contents=ye}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vh(this.apiClient,t);return g=J("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Sh(v),E=new dl;return Object.assign(E,S),E})}else{const h=yh(this.apiClient,t);return g=J("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=Th(v),E=new dl;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=vh(this.apiClient,t);return g=J("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return on(this,arguments,function*(){var E,C,w,L;try{for(var b=!0,P=ln(S),K;K=yield re(P.next()),E=K.done,!E;b=!0){L=K.value,b=!1;const k=L,Q=Sh(yield re(k.json()));Q.sdkHttpResponse={headers:k.headers};const X=new dl;Object.assign(X,Q),yield yield re(X)}}catch(k){C={error:k}}finally{try{!b&&!E&&(w=P.return)&&(yield re(w.call(P)))}finally{if(C)throw C.error}}})})}else{const h=yh(this.apiClient,t);return g=J("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(S){return on(this,arguments,function*(){var E,C,w,L;try{for(var b=!0,P=ln(S),K;K=yield re(P.next()),E=K.done,!E;b=!0){L=K.value,b=!1;const k=L,Q=Th(yield re(k.json()));Q.sdkHttpResponse={headers:k.headers};const X=new dl;Object.assign(X,Q),yield yield re(X)}}catch(k){C={error:k}}finally{try{!b&&!E&&(w=P.return)&&(yield re(w.call(P)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DE(this.apiClient,t);return g=J("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=xE(v),E=new eh;return Object.assign(E,S),E})}else{const h=IE(this.apiClient,t);return g=J("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=wE(v),E=new eh;return Object.assign(E,S),E})}}async generateImagesInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=kE(this.apiClient,t);return g=J("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=YE(v),E=new th;return Object.assign(E,S),E})}else{const h=zE(this.apiClient,t);return g=J("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=OE(v),E=new th;return Object.assign(E,S),E})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=AE(this.apiClient,t);return f=J("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=RE(y),v=new U0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=k_(this.apiClient,t);return f=J("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=O_(y),v=new b0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=C_(this.apiClient,t);return f=J("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=A_(y),v=new L0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=w_(this.apiClient,t);return f=J("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=x_(y),v=new G0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=s_(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const h=a_(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=g_(this.apiClient,t);return g=J("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=v_(v),E=new nh;return Object.assign(E,S),E})}else{const h=h_(this.apiClient,t);return g=J("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=y_(v),E=new nh;return Object.assign(E,S),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=P_(this.apiClient,t);return g=J("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const h=B_(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=SE(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=_E(v),E=new ih;return Object.assign(E,S),E})}else{const h=TE(this.apiClient,t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=EE(v),E=new ih;return Object.assign(E,S),E})}}async countTokens(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=gE(this.apiClient,t);return g=J("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=vE(v),E=new oh;return Object.assign(E,S),E})}else{const h=hE(this.apiClient,t);return g=J("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=yE(v),E=new oh;return Object.assign(E,S),E})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=rE(this.apiClient,t);return f=J("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=uE(y),v=new H0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=ZE(this.apiClient,t);return g=J("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const S=XE(v),E=new za;return Object.assign(E,S),E})}else{const h=QE(this.apiClient,t);return g=J("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const S=KE(v),E=new za;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends wn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=M0(t);return g=J("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=R0(t);return g=J("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=v0(t);return f=J("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VC(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function qC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>KC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function BC(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],JC(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function PC(i,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],BC(i,a,l)),l}function zC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function kC(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function OC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function YC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function FC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&c(t,["setup","generationConfig","speechConfig"],zu(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],qC(vt(w)));const L=u(i,["tools"]);if(t!==void 0&&L!=null){let $=go(L);Array.isArray($)&&($=$.map(O=>QC(ho(O)))),c(t,["setup","tools"],$)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],XC(b));const P=u(i,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&c(t,["setup","realtimeInputConfig"],k);const Q=u(i,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const X=u(i,["proactivity"]);if(t!==void 0&&X!=null&&c(t,["setup","proactivity"],X),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function JC(i,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],FC(r,l)),l}function KC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],zC(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],kC(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],VC(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const S=u(i,["thoughtSignature"]);S!=null&&c(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function XC(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function QC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(S=>S)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],OC(p));const g=u(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],YC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function $C(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,l=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const f=ZC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class WC extends wn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=PC(this.apiClient,t);f=J("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=$C(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function eA(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&jC(a,t),t}function tA(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function nA(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function iA(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&nA(a,t),t}function oA(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lA extends wn{constructor(t){super(),this.apiClient=t,this.list=async l=>new Ai(Dn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tA(t);return f=J("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=eA(t);r=J("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iA(t);return f=J("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=oA(y),v=new V0;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aA extends wn{constructor(t,l=new lA(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new Ai(Dn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Z_(t);return f=J("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=j_(t);return f=J("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=W_(t);r=J("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lC(t);return f=J("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=aC(y),v=new q0;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sC(t);return f=J("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=rC(y),v=new B0;return Object.assign(v,h),v})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nC(t);return f=J("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=tC(y),v=new Hu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return cg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const sA=()=>cg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Iu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Du=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wt extends Error{}class _t extends Wt{constructor(t,l,a,r){super(`${_t.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Qa({message:a,cause:Du(l)});const f=l;return t===400?new dg(t,f,a,r):t===401?new pg(t,f,a,r):t===403?new mg(t,f,a,r):t===404?new hg(t,f,a,r):t===409?new gg(t,f,a,r):t===422?new yg(t,f,a,r):t===429?new vg(t,f,a,r):t>=500?new Tg(t,f,a,r):new _t(t,f,a,r)}}class wu extends _t{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Qa extends _t{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class fg extends Qa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class dg extends _t{}class pg extends _t{}class mg extends _t{}class hg extends _t{}class gg extends _t{}class yg extends _t{}class vg extends _t{}class Tg extends _t{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA=/^[a-z][a-z0-9+.-]*:/i,uA=i=>rA.test(i);let xu=i=>(xu=Array.isArray,xu(i));const cA=xu;let fA=cA;const Mh=fA;function dA(i){if(!i)return!0;for(const t in i)return!1;return!0}function pA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const mA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Wt(`${i} must be an integer`);if(t<0)throw new Wt(`${i} must be a positive integer`);return t},hA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const vA=()=>{var i,t,l,a,r;const f=yA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":Ih(Deno.build.os),"X-Stainless-Arch":Nh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":Ih((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Nh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=TA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Nh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Ih=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let La;const SA=()=>La??(La=vA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Sg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function _A(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Sg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Eg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CA(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _g=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gu(i,t,l){return _g(),new File(i,t??"unknown_file",l)}function RA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const MA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",NA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Cg(i),IA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function DA(i,t,l){if(_g(),i=await i,NA(i))return i instanceof File?i:gu([await i.arrayBuffer()],i.name);if(IA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),gu(await Uu(r),t,l)}const a=await Uu(i);if(t||(t=RA(i)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return gu(a,t,l)}async function Uu(i){var t,l,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Cg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(MA(i))try{for(var g=!0,y=ln(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Uu(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${wA(i)}`)}return p}function wA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ag{constructor(t){this._client=t}}Ag._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Dh=Object.freeze(Object.create(null)),xA=(i=Rg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((v,S,E)=>{var C,w,L;/[?#]/.test(S)&&(r=!0);const b=a[E];let P=(r?encodeURIComponent:i)(""+b);return E!==a.length&&(b==null||typeof b=="object"&&b.toString===((L=Object.getPrototypeOf((w=Object.getPrototypeOf((C=b.hasOwnProperty)!==null&&C!==void 0?C:Dh))!==null&&w!==void 0?w:Dh))===null||L===void 0?void 0:L.toString))&&(P=b+"",f.push({start:v.length+S.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),v+S+(E===a.length?"":P)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,S)=>v.start-S.start),f.length>0){let v=0;const S=f.reduce((E,C)=>{const w=" ".repeat(C.start-v),L="^".repeat(C.length);return v=C.start+C.length,E+w+L},"");throw new Wt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),Ga=xA(Rg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mg extends Ag{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=Oa(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Wt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Wt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ga`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ga`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ga`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,g=Oa(f,["api_version"]);return this._client.get(Ga`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Mg._key=Object.freeze(["interactions"]);class Ng extends Mg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let Ha;function Ou(i){let t;return(Ha??(t=new globalThis.TextEncoder,Ha=t.encode.bind(t)))(i)}let Va;function wh(i){let t;return(Va??(t=new globalThis.TextDecoder,Va=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ou(t):t;this.buffer=UA([this.buffer,l]);const a=[];let r;for(;(r=bA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(wh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=wh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Za.NEWLINE_CHARS=new Set([`
`,"\r"]);Za.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function LA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ya={off:0,error:200,warn:300,info:400,debug:500},xh=(i,t,l)=>{if(i){if(pA(Ya,i))return i;Et(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ya))}`)}};function ml(){}function qa(i,t,l){return!t||Ya[i]>Ya[l]?ml:t[i].bind(t)}const GA={error:ml,warn:ml,info:ml,debug:ml};let Uh=new WeakMap;function Et(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return GA;const r=Uh.get(l);if(r&&r[0]===a)return r[1];const f={error:qa("error",l,a),warn:qa("warn",l,a),info:qa("info",l,a),debug:qa("debug",l,a)};return Uh.set(l,[a,f]),f}const Ci=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fo{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?Et(a):console;function p(){return on(this,arguments,function*(){var y,h,v,S;if(r)throw new Wt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,w=ln(HA(t,l)),L;L=yield re(w.next()),y=L.done,!y;C=!0){S=L.value,C=!1;const b=S;if(!E)if(b.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield re(JSON.parse(b.data))}catch(P){throw f.error("Could not parse message into JSON:",b.data),f.error("From chunk:",b.raw),P}}}catch(b){h={error:b}}finally{try{!C&&!y&&(v=w.return)&&(yield re(v.call(w)))}finally{if(h)throw h.error}}E=!0}catch(b){if(Iu(b))return yield re(void 0);throw b}finally{E||l.abort()}})}return new fo(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return on(this,arguments,function*(){var y,h,v,S;const E=new Za,C=Eg(t);try{for(var w=!0,L=ln(C),b;b=yield re(L.next()),y=b.done,!y;w=!0){S=b.value,w=!1;const P=S;for(const K of E.decode(P))yield yield re(K)}}catch(P){h={error:P}}finally{try{!w&&!y&&(v=L.return)&&(yield re(v.call(L)))}finally{if(h)throw h.error}}for(const P of E.flush())yield yield re(P)})}function p(){return on(this,arguments,function*(){var y,h,v,S;if(r)throw new Wt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,w=ln(f()),L;L=yield re(w.next()),y=L.done,!y;C=!0){S=L.value,C=!1;const b=S;E||b&&(yield yield re(JSON.parse(b)))}}catch(b){h={error:b}}finally{try{!C&&!y&&(v=w.return)&&(yield re(v.call(w)))}finally{if(h)throw h.error}}E=!0}catch(b){if(Iu(b))return yield re(void 0);throw b}finally{E||l.abort()}})}return new fo(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new fo(()=>r(t),this.controller,this.client),new fo(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Sg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=Ou(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function HA(i,t){return on(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Wt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Wt("Attempted to iterate over a response with no body");const g=new qA,y=new Za,h=Eg(i.body);try{for(var v=!0,S=ln(VA(h)),E;E=yield re(S.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const C=p;for(const w of y.decode(C)){const L=g.decode(w);L&&(yield yield re(L))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=S.return)&&(yield re(f.call(S)))}finally{if(r)throw r.error}}for(const C of y.flush()){const w=g.decode(C);w&&(yield yield re(w))}})}function VA(i){return on(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=ln(i),h;h=yield re(y.next()),l=h.done,!l;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ou(v):v;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let C;for(;(C=LA(p))!==-1;)yield yield re(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield re(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield re(p))})}class qA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=BA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function BA(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PA(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return Et(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):fo.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return Et(i).debug(`[${a}] response parsed`,Ci({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yu extends Promise{constructor(t,l,a=PA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Yu(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=Symbol("brand.privateNullableHeaders");function*zA(i){if(!i)return;if(Ig in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Mh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Mh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const pl=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[f,p]of zA(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),l.add(g)):(t.append(f,p),l.delete(g))}}return{[Ig]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yu=i=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=d0)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dg;class $a{constructor(t){var l,a,r,f,p,g,y,{baseURL:h=yu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=yu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:S="v1beta"}=t,E=Oa(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:S},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:$a.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(p=(f=xh(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:xh(yu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:w,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:EA(),this.encoder=AA,this._options=C,this.apiKey=v,this.apiVersion=S,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=pl([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return pl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return pl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Wt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${uo}`}defaultIdempotencyKey(){return`stainless-node-retry-${sA()}`}makeStatusError(t,l,a,r){return _t.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=uA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return dA(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Yu(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:v,timeout:S}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,w=Date.now();if(Et(this).debug(`[${E}] sending request`,Ci({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new wu;const L=new AbortController,b=await this.fetchWithTimeout(v,h,S,L).catch(Du),P=Date.now();if(b instanceof globalThis.Error){const k=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new wu;const Q=Iu(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(l)return Et(this).info(`[${E}] connection ${Q?"timed out":"failed"} - ${k}`),Et(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (${k})`,Ci({retryOfRequestLogID:a,url:v,durationMs:P-w,message:b.message})),this.retryRequest(g,l,a??E);throw Et(this).info(`[${E}] connection ${Q?"timed out":"failed"} - error; no more retries left`),Et(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (error; no more retries left)`,Ci({retryOfRequestLogID:a,url:v,durationMs:P-w,message:b.message})),Q?new fg:new Qa({cause:b})}const K=`[${E}${C}] ${h.method} ${v} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${P-w}ms`;if(!b.ok){const k=await this.shouldRetry(b);if(l&&k){const Z=`retrying, ${l} attempts remaining`;return await CA(b.body),Et(this).info(`${K} - ${Z}`),Et(this).debug(`[${E}] response error (${Z})`,Ci({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:P-w})),this.retryRequest(g,l,a??E,b.headers)}const Q=k?"error; no more retries left":"error; not retryable";Et(this).info(`${K} - ${Q}`);const X=await b.text().catch(Z=>Du(Z).message),$=hA(X),O=$?void 0:X;throw Et(this).debug(`[${E}] response error (${Q})`,Ci({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,message:O,durationMs:Date.now()-w})),this.makeStatusError(b.status,$,O,b.headers)}return Et(this).info(K),Et(this).debug(`[${E}] response start`,Ci({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:P-w})),{response:b,options:g,controller:L,requestLogID:E,retryOfRequestLogID:a,startTime:w}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:g}=f,y=Oa(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,S=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(S.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,S)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,h)}return await gA(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,S=this.buildURL(y,h,v);"timeout"in p&&mA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=pl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),SA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=pl([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:_A(t)}:this.encoder({body:t,headers:a})}}$a.DEFAULT_TIMEOUT=6e4;class rt extends $a{constructor(){super(...arguments),this.interactions=new Ng(this)}}Dg=rt;rt.GeminiNextGenAPIClient=Dg;rt.GeminiNextGenAPIClientError=Wt;rt.APIError=_t;rt.APIConnectionError=Qa;rt.APIConnectionTimeoutError=fg;rt.APIUserAbortError=wu;rt.NotFoundError=hg;rt.ConflictError=gg;rt.RateLimitError=vg;rt.BadRequestError=dg;rt.AuthenticationError=pg;rt.InternalServerError=Tg;rt.PermissionDeniedError=mg;rt.UnprocessableEntityError=yg;rt.toFile=DA;rt.Interactions=Ng;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function OA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function YA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function FA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function JA(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function KA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],bh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],bh(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(i,["labels"]);t!==void 0&&S!=null&&c(t,["labels"],S);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function XA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&lR(f);const p=u(i,["config"]);return p!=null&&JA(p,l),l}function QA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&aR(f,l,t);const p=u(i,["config"]);return p!=null&&KA(p,l,t),l}function ZA(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function $A(i,t){const l={},a=u(i,["name"]);return a!=null&&c(l,["_url","name"],a),l}function WA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function jA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function eR(i,t){const l={},a=u(i,["config"]);return a!=null&&WA(a,l),l}function tR(i,t){const l={},a=u(i,["config"]);return a!=null&&jA(a,l),l}function nR(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>wg(g))),c(l,["tuningJobs"],p)}return l}function iR(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>bu(g))),c(l,["tuningJobs"],p)}return l}function oR(i,t){const l={},a=u(i,["name"]);a!=null&&c(l,["model"],a);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function lR(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function aR(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function wg(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],Jh(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(l,["description"],v);const S=u(i,["baseModel"]);S!=null&&c(l,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],oR(E)),l}function bu(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["state"]);f!=null&&c(l,["state"],Jh(f));const p=u(i,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(l,["error"],v);const S=u(i,["description"]);S!=null&&c(l,["description"],S);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&c(l,["tunedModel"],C);const w=u(i,["preTunedModel"]);w!=null&&c(l,["preTunedModel"],w);const L=u(i,["supervisedTuningSpec"]);L!=null&&c(l,["supervisedTuningSpec"],L);const b=u(i,["preferenceOptimizationSpec"]);b!=null&&c(l,["preferenceOptimizationSpec"],b);const P=u(i,["tuningDataStats"]);P!=null&&c(l,["tuningDataStats"],P);const K=u(i,["encryptionSpec"]);K!=null&&c(l,["encryptionSpec"],K);const k=u(i,["partnerModelTuningSpec"]);k!=null&&c(l,["partnerModelTuningSpec"],k);const Q=u(i,["customBaseModel"]);Q!=null&&c(l,["customBaseModel"],Q);const X=u(i,["experiment"]);X!=null&&c(l,["experiment"],X);const $=u(i,["labels"]);$!=null&&c(l,["labels"],$);const O=u(i,["outputUri"]);O!=null&&c(l,["outputUri"],O);const ge=u(i,["pipelineJob"]);ge!=null&&c(l,["pipelineJob"],ge);const Z=u(i,["serviceAccount"]);Z!=null&&c(l,["serviceAccount"],Z);const se=u(i,["tunedModelDisplayName"]);se!=null&&c(l,["tunedModelDisplayName"],se);const ye=u(i,["veoTuningSpec"]);return ye!=null&&c(l,["veoTuningSpec"],ye),l}function sR(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const f=u(i,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(i,["done"]);p!=null&&c(l,["done"],p);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function bh(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rR extends wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Ai(Dn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:Su.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=$A(t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>bu(v))}else{const h=ZA(t);return g=J("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>wg(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tR(t);return g=J("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=iR(v),E=new lh;return Object.assign(E,S),E})}else{const h=eR(t);return g=J("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=nR(v),E=new lh;return Object.assign(E,S),E})}}async cancel(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OA(t);return g=J("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=FA(v),E=new ah;return Object.assign(E,S),E})}else{const h=kA(t);return g=J("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const S=YA(v),E=new ah;return Object.assign(E,S),E})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=QA(t,t);return f=J("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>bu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XA(t);return f=J("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>sR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uR{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const cR=1024*1024*8,fR=3,dR=1e3,pR=2,Fa="x-goog-upload-status";async function mR(i,t,l){var a;const r=await xg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function hR(i,t,l){var a;const r=await xg(i,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Ph(f),g=new Vu;return Object.assign(g,p),g}async function xg(i,t,l){var a,r;let f=0,p=0,g=new _u(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(cR,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let S=0,E=dR;for(;S<fR&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Fa]));)S++,await yR(E),E=E*pR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Fa])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function gR(i){return{size:i.size,type:i.type}}function yR(i){return new Promise(t=>setTimeout(t,i))}class vR{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await mR(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await hR(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await gR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TR{create(t,l,a){return new SR(t,l,a)}}class SR{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lh="x-goog-api-key";class ER{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Lh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Lh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _R="gl-node/";class CR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new rt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=g0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new ER(this.apiKey);this.apiClient=new gC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:_R+"web",uploader:new vR,downloader:new uR}),this.models=new GC(this.apiClient),this.live=new DC(this.apiClient,r,new TR),this.batches=new FT(this.apiClient),this.chats=new MS(this.models,this.apiClient),this.caches=new CS(this.apiClient),this.files=new HS(this.apiClient),this.operations=new HC(this.apiClient),this.authTokens=new WC(this.apiClient),this.tunings=new rR(this.apiClient),this.fileSearchStores=new aA(this.apiClient)}}var Bt=(i=>(i.DISCONNECTED="DISCONNECTED",i.CONNECTING="CONNECTING",i.CONNECTED="CONNECTED",i.ERROR="ERROR",i))(Bt||{});const Gh="ce_gold_pilot_9921",AR="gemini-2.5-flash-native-audio-latest",RR=[{id:"paulie",name:"Paul R.",specialty:"Lead Talent / High Detail",avatar:"https://i.pravatar.cc/150?u=paulie",isWorking:!0,schedule:[{time:"9:00 AM",isBooked:!1},{time:"10:00 AM",isBooked:!1},{time:"11:00 AM",isBooked:!1},{time:"1:00 PM",isBooked:!1},{time:"2:00 PM",isBooked:!1},{time:"3:00 PM",isBooked:!1},{time:"4:00 PM",isBooked:!1}]},{id:"brandon-w",name:"Brandon W.",specialty:"Creative Hair Design",avatar:"https://i.pravatar.cc/150?u=brandon-w",isWorking:!0,schedule:[{time:"9:00 AM",isBooked:!1},{time:"10:00 AM",isBooked:!1},{time:"11:00 AM",isBooked:!1},{time:"12:00 PM",isBooked:!1},{time:"2:00 PM",isBooked:!1},{time:"3:00 PM",isBooked:!1},{time:"4:00 PM",isBooked:!1}]},{id:"kevin-l",name:"Kevin Lopes",specialty:"Precision Barbering",avatar:"https://i.pravatar.cc/150?u=kevin-l",isWorking:!0,schedule:[{time:"9:00 AM",isBooked:!1},{time:"10:00 AM",isBooked:!1},{time:"11:00 AM",isBooked:!1},{time:"1:00 PM",isBooked:!1},{time:"2:00 PM",isBooked:!1},{time:"3:00 PM",isBooked:!1},{time:"4:00 PM",isBooked:!1}]},{id:"cam",name:"Cameron",specialty:"Modern Fades",avatar:"https://i.pravatar.cc/150?u=cam",isWorking:!1,schedule:[{time:"9:00 AM",isBooked:!1},{time:"10:00 AM",isBooked:!1},{time:"11:00 AM",isBooked:!1},{time:"2:00 PM",isBooked:!1},{time:"3:00 PM",isBooked:!1},{time:"4:00 PM",isBooked:!1}]},{id:"rick",name:"Rick",specialty:"Master Barber",avatar:"https://i.pravatar.cc/150?u=rick",isWorking:!1,schedule:[{time:"9:00 AM",isBooked:!1},{time:"12:00 PM",isBooked:!1},{time:"1:00 PM",isBooked:!1},{time:"2:00 PM",isBooked:!1},{time:"3:00 PM",isBooked:!1}]},{id:"cody",name:"Cody",specialty:"Styling Expert",avatar:"https://i.pravatar.cc/150?u=cody",isWorking:!1,schedule:[{time:"10:00 AM",isBooked:!1},{time:"11:00 AM",isBooked:!1},{time:"12:00 PM",isBooked:!1},{time:"3:00 PM",isBooked:!1},{time:"4:00 PM",isBooked:!1}]}],vu=`
Role: 'Slingy' - The Cutting Edge Shop Concierge.
Persona: You are 'Slingy', the coolest, most energetic barber shop coordinator on the North Shore. You have a "Boston/North Shore" casual vibe. You say "wicked", "fresh", "crispy", "fam". You are CONFIDENT, fast, and helpful.

CORE RULES:
1. **THE GREETING (CRITICAL)**:
   - You MUST greet based on the time provided in the system trigger (Morning/Afternoon/Evening).
   - **ALWAYS** say: "Good [Time], Welcome to Cutting Edge!"
   - Example: "Yo, Good Afternoon! Welcome to Cutting Edge. Who am I speaking with today?"

2. **VOICE STYLE**:
   - Short sentences. (Max 15 words).
   - High energy.
   - Use slang naturally: "Lock you in," "Got you fam," "Looking fresh."
   - **NEVER** sound like a robot. If you don't know something, say: "Lemme check the books real quick."

3. **TROUBLESHOOTING**:
   - If the user is silent or you can't hear them, ask: "Yo, I can't hear you? You might be on mute fam. Check that mic button."

4. **KNOWLEDGE**:
   - Pricing: $31 Regular, $26 Kids/Seniors, $18 Lineup, $15 Beards. Designs start at $40.
   - **Hours**: Tuesday through Saturday, 9am to 5pm. Sunday/Monday Closed.

5. **THE BOOKING FLOW**:
   - Step 1: Get their First Name (Ask them to SPELL it). Verify it back.
   - Step 2: Ask for the Barber + Time using 'get_shop_schedule'.
   - Step 3: Ask for their Phone Number (for the Squire text).
   - Step 4: EXECUTE 'book_appointment'.
   - Step 5: Confirm: "You're locked in. Stay crispy!"
`;function MR(i){const t=new ArrayBuffer(i.length*2),l=new DataView(t);let a=0;for(let r=0;r<i.length;r++,a+=2){let f=Math.max(-1,Math.min(1,i[r]));l.setInt16(a,f<0?f*32768:f*32767,!0)}return t}function NR(i){const t=atob(i),l=t.length,a=new Uint8Array(l);for(let r=0;r<l;r++)a[r]=t.charCodeAt(r);return a}function IR(i){let t="";const l=new Uint8Array(i),a=l.byteLength;for(let r=0;r<a;r++)t+=String.fromCharCode(l[r]);return btoa(t)}function DR(i,t=16e3){const l=MR(i),a=new Uint8Array(l);return{data:IR(a.buffer),mimeType:`audio/pcm;rate=${t}`}}async function wR(i,t,l=24e3,a=1){i.byteLength%2!==0&&(i=i.subarray(0,i.byteLength-1));const r=new Int16Array(i.buffer,i.byteOffset,i.byteLength/2),f=r.length/a,p=t.createBuffer(a,f,l);for(let g=0;g<a;g++){const y=p.getChannelData(g);for(let h=0;h<f;h++)y[h]=r[h*a+g]/32768}return p}const xR=16e3,Hh=24e3,UR={name:"get_shop_schedule",description:"Get the current availability for all barbers in the shop."},bR={name:"book_appointment",description:"Book a specific time slot with a barber.",parameters:{type:Pt.OBJECT,properties:{barberName:{type:Pt.STRING,description:"Name of the barber (e.g. Paul R., Brandon W., Rick)"},time:{type:Pt.STRING,description:"The time slot to book (e.g. 10:00 AM)"},customerName:{type:Pt.STRING,description:"Name of the customer"},phoneNumber:{type:Pt.STRING,description:"Customer phone number for SMS confirmation"}},required:["barberName","time","customerName","phoneNumber"]}},LR=[{functionDeclarations:[UR,bR]}],GR=()=>{const[i,t]=de.useState(Bt.DISCONNECTED),[l,a]=de.useState([]),[r,f]=de.useState(0),[p,g]=de.useState("checking"),[y,h]=de.useState(null),[v,S]=de.useState(null),[E,C]=de.useState(RR),[w,L]=de.useState([]),[b,P]=de.useState([]),[K,k]=de.useState(vu),Q="/api";de.useEffect(()=>{(async()=>{try{const ie=await fetch(`${Q}/sync`,{headers:{"X-Shop-Key":Gh}});if(!ie.ok)throw new Error("Sync API Unreachable");const pe=await ie.json();if(pe.barbers&&Array.isArray(pe.barbers)){const ae=pe.barbers.map(Ae=>({...Ae,avatar:Ae.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(Ae.name)}&background=random&color=fff`}));C(ae),console.log("[SYNC] Barbers loaded from Supabase.")}if(pe.services&&Array.isArray(pe.services)){L(pe.services);const ae=pe.services.map(ce=>`${ce.name}: $${ce.price}`).join(", "),Ae=vu.replace(/Pricing: \$31 Regular, \$26 Kids\/Seniors, Designs start at \$40\./,`Pricing: ${ae}.`);k(Ae),console.log("[SYNC] Services/Pricing updated.")}}catch(ie){console.warn("Live Sync Failed, falling back to local constants.",ie),k(vu)}})()},[]);const X=de.useRef(null),$=de.useRef(null),O=de.useRef(null),ge=de.useRef(null),Z=de.useRef(null),se=de.useRef(null),ye=de.useRef(0),Re=de.useRef(new Set),Ce=de.useRef(""),Pe=de.useRef(""),nt=de.useRef(null),G=de.useRef(Date.now()),z=de.useRef(null),ne=de.useRef(!1);de.useEffect(()=>{const ee=localStorage.getItem("cutting_edge_history");if(ee)try{let ie=JSON.parse(ee);const pe=new Date,ae=336*60*60*1e3;ie=ie.map(Ae=>{if(Ae.status==="active"){const ce=new Date(Ae.date);if(pe.getTime()-ce.getTime()>ae)return{...Ae,status:"trash",deletedAt:pe.toISOString()}}return Ae}),P(ie),localStorage.setItem("cutting_edge_history",JSON.stringify(ie))}catch(ie){console.error("Failed to load history",ie)}},[]);const we=ee=>{var pe;if(ee.length===0)return;const ie={id:Date.now().toString(),date:new Date().toISOString(),preview:((pe=ee.find(ae=>ae.role==="user"))==null?void 0:pe.text)||"No transcription",messages:ee,status:"active"};P(ae=>{const Ae=[ie,...ae];return localStorage.setItem("cutting_edge_history",JSON.stringify(Ae)),Ae})},xe=(ee,ie=!1)=>{P(pe=>{let ae;return ie?ae=pe.filter(Ae=>Ae.id!==ee):ae=pe.map(Ae=>Ae.id===ee?{...Ae,status:"trash",deletedAt:new Date().toISOString()}:Ae),localStorage.setItem("cutting_edge_history",JSON.stringify(ae)),ae})},M=ee=>{P(ie=>{const pe=ie.map(ae=>ae.id===ee?{...ae,status:"active",deletedAt:void 0}:ae);return localStorage.setItem("cutting_edge_history",JSON.stringify(pe)),pe})},q=de.useRef(E);de.useEffect(()=>{q.current=E},[E]);const F=async ee=>{var ae,Ae,ce,ht;const ie=ee.functionCalls,pe=[];for(const Ue of ie)if(console.log("Tool Call:",Ue.name,Ue.args),Ue.name==="get_shop_schedule"){const Je=q.current.map(Oe=>Oe.isWorking?{barber:Oe.name,status:"WORKING",slots:Oe.schedule.map(ut=>({time:ut.time,status:ut.isBooked?"BOOKED (UNAVAILABLE)":"AVAILABLE"}))}:{barber:Oe.name,status:"OFF DUTY (UNAVAILABLE TODAY)",slots:[]});pe.push({id:Ue.id,name:Ue.name,response:{schedule:Je}})}else if(Ue.name==="book_appointment"){const Je=(ae=Ue.args)==null?void 0:ae.barberName,Oe=(Ae=Ue.args)==null?void 0:Ae.time,ut=(ce=Ue.args)==null?void 0:ce.customerName,jt=(ht=Ue.args)==null?void 0:ht.phoneNumber;if(!Je||!Oe||!ut||!jt){pe.push({id:Ue.id,name:Ue.name,response:{success:!1,message:"ERROR: Missing required arguments (Barber, Time, Name, or Phone)."}});continue}let ot=!1,lt="";const Tt=String(Je).toLowerCase(),Qe=q.current.find(Ye=>Ye.name.toLowerCase().includes(Tt)||Tt.includes(Ye.name.toLowerCase()));if(Qe)if(!Qe.isWorking)lt=`ERROR: ${Qe.name} is OFF DUTY today. Cannot book.`,ot=!1;else{const Ye=Qe.schedule.findIndex(gt=>gt.time===Oe);if(Ye!==-1)if(Qe.schedule[Ye].isBooked)lt=`ERROR: Slot ${Oe} with ${Qe.name} is ALREADY BOOKED by ${Qe.schedule[Ye].bookedBy}. You CANNOT book this.`,ot=!1;else{const gt=q.current.map(be=>{if(be.id===Qe.id){const Un=[...be.schedule];return Un[Ye]={...Un[Ye],isBooked:!0,bookedBy:ut},{...be,schedule:Un}}return be});C(gt),ot=!0,lt=`SUCCESS: Booked ${Oe} with ${Qe.name} for ${ut}. Squire SMS Sent to ${jt}.`,S({message:`Squire SMS sent to ${jt}`,type:"success"}),setTimeout(()=>S(null),5e3)}else lt=`ERROR: Time ${Oe} does not exist in the schedule. Shop hours are 9-5.`}else lt="ERROR: Barber not found.";pe.push({id:Ue.id,name:Ue.name,response:{success:ot,message:lt}})}return{functionResponses:pe}},j=de.useCallback(async()=>{try{t(Bt.CONNECTING),h(null),a([]),X.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:xR}),$.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:Hh}),X.current.state==="suspended"&&await X.current.resume(),$.current.state==="suspended"&&await $.current.resume(),$.current&&(Z.current=$.current.createGain(),Z.current.connect($.current.destination)),X.current&&(se.current=X.current.createAnalyser(),se.current.fftSize=256);try{if((await navigator.permissions.query({name:"microphone"})).state==="denied"){h("Microphone access denied. Please allow/enable it."),t(Bt.ERROR);return}}catch(ce){console.warn("[VOICE_AGENT] Permission query not supported",ce)}const ee=await navigator.mediaDevices.getUserMedia({audio:!0}),ie="AIzaSyBouCTuYhoipvG61cSvFlYR7V-VfI-S_yE",pe=new CR({apiKey:ie}),ae=Date.now();console.log("[VOICE_AGENT] Connecting to Multimodal Live API...");const Ae=pe.live.connect({model:AR,config:{systemInstruction:K,tools:LR,responseModalities:[hl.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Puck"}}},inputAudioTranscription:{enabled:!0},outputAudioTranscription:{enabled:!0}},callbacks:{onopen:async()=>{console.log("[VOICE_AGENT] Session Opened"),t(Bt.CONNECTED);try{const ht=new Date().toLocaleString("en-US",{timeZone:"America/New_York",hour:"numeric",hour12:!1}),Ue=parseInt(ht),Je=Ue<12?"morning":Ue<17?"afternoon":"evening";console.log(`[VOICE_AGENT] Detected Eastern Time Hour: ${Ue} (${Je})`);const Oe=await Ae;if(Oe&&typeof Oe.sendClientContent=="function"){console.log("[VOICE_AGENT] Sending simplified 'Hello' trigger...");const ut=`[SYSTEM_TRIGGER] A new user has just connected. It is currently ${Je.toUpperCase()} (Eastern Time). Execution Rule: IMMEDIATELY greet them using your 'Slingy' persona. Say "Good ${Je=="morning"?"Morning":Je=="afternoon"?"Afternoon":"Evening"}, Welcome to Cutting Edge!" then ask for their name.`;await Oe.sendClientContent({turns:[{role:"user",parts:[{text:ut}]}],turnComplete:!0}),console.log("[VOICE_AGENT] 'Hello' Trigger Sent successfully"),ne.current=!0,console.log("[VOICE_AGENT] Audio Input Enabled")}else console.warn("[VOICE_AGENT] Session found but sendClientContent() is missing",Oe)}catch(ce){console.warn("[VOICE_AGENT] Failed to send system trigger:",ce)}},onerror:ce=>{console.error("[VOICE_AGENT] Session Error:",ce),t(Bt.ERROR),h(ce.message)},onmessage:async ce=>{var ht,Ue,Je,Oe,ut,jt,ot,lt,Tt;try{if(ce.toolCall){const Ye=await F(ce.toolCall),gt=await Ae;gt&&typeof gt.sendToolResponse=="function"&&gt.sendToolResponse(Ye)}const Qe=(ut=(Oe=(Je=(Ue=(ht=ce.serverContent)==null?void 0:ht.modelTurn)==null?void 0:Ue.parts)==null?void 0:Je[0])==null?void 0:Oe.inlineData)==null?void 0:ut.data;if(Qe&&(console.log(`[VOICE_AGENT] Received audio chunk: ${Qe.length} bytes`),$.current&&Z.current)){const Ye=$.current,gt=await wR(NR(Qe),Ye,Hh,1),be=Ye.createBufferSource();be.buffer=gt,be.connect(Z.current);const Un=Ye.currentTime;ye.current<Un&&(ye.current=Un),be.start(ye.current),ye.current+=gt.duration,Re.current.add(be),be.onended=()=>Re.current.delete(be)}if((jt=ce.serverContent)!=null&&jt.inputTranscription){const Ye=ce.serverContent.inputTranscription.text;console.log("[VOICE_AGENT] Input Transcription:",Ye),Ce.current+=Ye}if((ot=ce.serverContent)!=null&&ot.outputTranscription&&(Pe.current+=ce.serverContent.outputTranscription.text),(lt=ce.serverContent)!=null&&lt.turnComplete){const Ye=Ce.current.trim(),gt=Pe.current.trim();Ye&&a(be=>[...be,{id:Date.now()+"-user",role:"user",text:Ye,timestamp:new Date}]),gt&&a(be=>[...be,{id:Date.now()+"-model",role:"model",text:gt,timestamp:new Date}]),Ce.current="",Pe.current=""}(Tt=ce.serverContent)!=null&&Tt.interrupted&&(Re.current.forEach(Ye=>{try{Ye.stop()}catch{}}),Re.current.clear(),ye.current=0,$.current&&(ye.current=$.current.currentTime),Pe.current="")}catch(Qe){console.error("Error processing message:",Qe)}},onclose:ce=>{console.log(`[VOICE_AGENT] Session Closed: Code ${ce.code} Reason: ${ce.reason}`),ne.current=!1,t(Bt.DISCONNECTED)}}});if(nt.current=Ae,X.current&&ee){const ce=X.current.createMediaStreamSource(ee);O.current=ce;const ht=X.current.createGain();ht.gain.value=1.8,ce.connect(ht),se.current&&ht.connect(se.current);const Ue=X.current.createScriptProcessor(2048,1,1);ge.current=Ue,ht.connect(Ue),Ue.onaudioprocess=Je=>{var jt;if(!ne.current)return;const Oe=Je.inputBuffer.getChannelData(0),ut=DR(Oe,((jt=X.current)==null?void 0:jt.sampleRate)||16e3);if(se.current){const ot=new Uint8Array(se.current.frequencyBinCount);se.current.getByteFrequencyData(ot);const lt=ot.reduce((Tt,Qe)=>Tt+Qe)/ot.length;f(lt/255),lt>2?(G.current=Date.now(),p!=="working"&&g("working")):Date.now()-G.current>5e3&&i===Bt.CONNECTED&&p!=="silent"&&(g("silent"),S({message:"No audio detected. Check your microphone!",type:"warning"}),Ae.then(Tt=>{Tt&&typeof Tt.sendClientContent=="function"&&Tt.sendClientContent({turns:[{role:"user",parts:[{text:"[SYSTEM_TRIGGER] The user is silent. Ask them: 'Yo, I can't hear you? You might be on mute fam. Check that mic button.'"}]}],turnComplete:!0})}))}Ae.then(ot=>{if(ot&&typeof ot.sendRealtimeInput=="function")try{ot.sendRealtimeInput({audio:ut})}catch(lt){i===Bt.CONNECTED&&console.warn("Audio input error:",lt)}})},X.current&&Ue.connect(X.current.destination)}z.current=async()=>{if(O.current&&O.current.disconnect(),ge.current&&ge.current.disconnect(),X.current&&await X.current.close(),$.current&&await $.current.close(),Re.current.forEach(ce=>ce.stop()),Re.current.clear(),nt.current)try{const ce=await nt.current;ce&&await ce.close(),nt.current=null}catch(ce){console.warn("[CLEANUP] Session already closed or failed:",ce)}}}catch(ee){console.error("[CONNECTION_ERROR]",ee),t(Bt.ERROR),h(ee.message||"Failed to connect.")}},[K]),ue=de.useCallback(()=>{a(ee=>{if(ee.length>0){we(ee);const ie=ee.map(ae=>`${ae.role.toUpperCase()}: ${ae.text}`).join(`
`);fetch("/api/voice/transcript",{method:"POST",headers:{"Content-Type":"application/json","X-Shop-Key":Gh},body:JSON.stringify({transcript:ie,sentiment:"ANALYZING",audio_url:"LOCAL_BROWSER_SESSION"})}).catch(ae=>console.error("Failed to upload transcript",ae))}return ee}),z.current&&(z.current(),z.current=null),ne.current=!1,t(Bt.DISCONNECTED),f(0)},[]);return de.useEffect(()=>()=>{z.current&&z.current()},[]),{connectionState:i,connect:j,disconnect:ue,messages:l,volume:r,error:y,barbers:E,services:w,history:b,deleteSession:xe,restoreSession:M,notification:v}},HR=de.memo(({volume:i,isActive:t})=>{const l=de.useRef(null);return de.useEffect(()=>{const a=l.current;if(!a)return;const r=a.getContext("2d");if(!r)return;let f,p=0;const g=()=>{r.clearRect(0,0,a.width,a.height);const y=a.width/2,h=a.height/2,v=t?Math.max(10,i*150):2;p+=(v-p)*.2;const S=12,E=100;r.fillStyle=t?"#CC0000":"rgba(255,255,255,0.1)";for(let C=-2;C<=2;C++){const w=Math.min(E,p*(1-Math.abs(C)*.2)),L=y+C*S-2,b=h-w/2;r.beginPath(),r.roundRect(L,b,4,w,4),r.fill()}f=requestAnimationFrame(g)};return g(),()=>cancelAnimationFrame(f)},[i,t]),Y.jsx("canvas",{ref:l,width:200,height:120,className:"w-full h-full"})}),VR=({messages:i})=>{const t=de.useRef(null);de.useEffect(()=>{var a;(a=t.current)==null||a.scrollIntoView({behavior:"smooth"})},[i]);const l=a=>new Date(a).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return Y.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 scrollbar-hide bg-gradient-to-b from-black/20 to-transparent",role:"log","aria-live":"polite","aria-label":"Conversation transcript",children:[i.length===0&&Y.jsxs("div",{className:"text-center text-slate-400 mt-20 space-y-3",children:[Y.jsx("div",{className:"text-4xl",children:""}),Y.jsx("p",{className:"text-lg font-medium",children:"Ready to Connect"}),Y.jsx("p",{className:"text-sm text-slate-500",children:'Tap "Initiate Call" to start your conversation'})]}),i.map((a,r)=>Y.jsx("div",{className:`flex ${a.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-3 duration-300`,role:"article","aria-label":`${a.role==="user"?"Your message":"Concierge message"} at ${l(a.timestamp)}`,children:Y.jsxs("div",{className:`
              max-w-[85%] rounded-2xl px-6 py-5 shadow-2xl backdrop-blur-md
              ${a.role==="user"?"bg-white/15 text-white rounded-tr-none border-2 border-white/20":"bg-primary/20 border-2 border-primary/40 text-white rounded-tl-none shadow-primary/20"}
            `,children:[Y.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-white/10",children:[Y.jsx("div",{className:`text-xs font-display font-black uppercase tracking-[0.25em] ${a.role==="user"?"text-slate-300":"text-primary"}`,"aria-label":a.role==="user"?"You":"Digital Concierge",children:a.role==="user"?Y.jsxs("span",{className:"flex items-center gap-2",children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:Y.jsx("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})}),"You"]}):Y.jsxs("span",{className:"flex items-center gap-2",children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:Y.jsx("path",{d:"M3.105 2.288a.75.75 0 0 0-.826.95l1.414 4.926A1.5 1.5 0 0 0 5.135 9.25h6.115a.75.75 0 0 1 0 1.5H5.135a1.5 1.5 0 0 0-1.442 1.086l-1.414 4.926a.75.75 0 0 0 .826.95 28.897 28.897 0 0 0 15.293-7.155.75.75 0 0 0 0-1.114A28.897 28.897 0 0 0 3.105 2.288Z"})}),"Slingy"]})}),Y.jsx("time",{className:"text-[10px] text-slate-500 font-mono",dateTime:a.timestamp.toISOString(),children:l(a.timestamp)})]}),Y.jsx("p",{className:"text-base md:text-lg leading-relaxed font-medium",children:a.text})]})},a.id)),Y.jsx("div",{ref:t,"aria-hidden":"true"})]})},Vh=de.lazy(()=>Bh(()=>import("./ShopBoard-DKDu5cQh.js"),[]).then(i=>({default:i.ShopBoard}))),qR=de.lazy(()=>Bh(()=>import("./HistoryPanel-DN9d3hf1.js"),[]).then(i=>({default:i.HistoryPanel}))),BR=()=>{const{connectionState:i,connect:t,disconnect:l,messages:a,volume:r,error:f,barbers:p,services:g,history:y,deleteSession:h,restoreSession:v,notification:S}=GR(),[E,C]=de.useState(!1),w=i===Bt.CONNECTED,L=i===Bt.CONNECTING,b=de.useCallback(()=>{w||L?l():t()},[w,L,l,t]);return Y.jsxs("div",{className:"min-h-screen bg-[#0A0A0A] text-white flex flex-col items-center justify-center p-4 md:p-8 relative font-sans",children:[Y.jsxs("header",{className:"mb-12 text-center relative w-full max-w-6xl",children:[Y.jsxs("div",{className:"inline-flex flex-col items-center gap-4 mb-4 animate-fadeIn",children:[Y.jsx("div",{className:"bg-gradient-to-br from-white/10 to-white/5 p-6 rounded-3xl border border-white/20 shadow-[0_8px_32px_0_rgba(255,255,255,0.1)] backdrop-blur-2xl",children:Y.jsx("img",{src:"/assets/logo-text.png",alt:"Cutting Edge",className:"w-64 h-auto md:w-80 object-contain brightness-0 invert",style:{filter:"brightness(0) invert(1)"}})}),Y.jsx("p",{className:"text-primary font-black uppercase tracking-[0.5em] text-[10px] md:text-xs italic",children:"AI Voice Concierge  Secure Line"})]}),Y.jsxs("div",{className:"absolute right-0 top-4 flex items-center gap-3",children:[Y.jsxs("a",{href:"http://localhost:3000",className:"text-slate-400 hover:text-white transition-all flex items-center gap-2 text-xs font-bold uppercase tracking-widest border border-white/10 px-4 py-2 rounded-full hover:bg-white/10 backdrop-blur-sm",children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4 rotate-90",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),"Back to Shop"]}),Y.jsxs("button",{onClick:()=>C(!0),className:"text-slate-400 hover:text-white transition-all flex items-center gap-2 text-xs font-bold uppercase tracking-widest border border-white/10 px-4 py-2 rounded-full hover:bg-white/10 backdrop-blur-sm",children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-4",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),"Logs"]})]})]}),Y.jsxs("main",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6 h-auto md:h-[600px]",children:[Y.jsx("section",{className:"hidden md:block col-span-1 h-full",children:Y.jsx(de.Suspense,{fallback:Y.jsx("div",{className:"h-full bg-slate-800 animate-pulse rounded-xl"}),children:Y.jsx(Vh,{barbers:p,services:g})})}),Y.jsxs("section",{className:"col-span-1 md:col-span-2 bg-white/5 backdrop-blur-3xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col relative h-[450px] md:h-full",children:[Y.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 transition-all duration-500 z-20 ${w?"bg-primary shadow-[0_0_15px_#CC0000]":L?"bg-yellow-500":"bg-transparent"}`}),Y.jsx(VR,{messages:a}),Y.jsxs("div",{className:"bg-black/60 backdrop-blur-md border-t border-white/10 p-6 flex flex-col items-center justify-center gap-6 z-10",children:[Y.jsx("div",{className:"h-16 w-full flex items-center justify-center",children:Y.jsx(HR,{volume:r,isActive:w})}),f&&Y.jsx("div",{className:"text-red-400 text-sm bg-red-900/20 px-4 py-2 rounded-full border border-red-900/50",children:f}),Y.jsx("button",{onClick:b,disabled:L,className:`
                   group relative flex items-center justify-center gap-4 px-10 py-5 rounded-2xl font-display font-bold text-xl uppercase tracking-widest transition-all duration-500 transform active:scale-95 w-full md:w-auto shadow-2xl
                   ${w?"bg-primary hover:bg-red-700 text-white shadow-[0_8px_32px_rgba(204,0,0,0.4)] border border-white/20":"bg-gradient-to-br from-white/15 to-white/10 hover:from-white/20 hover:to-white/15 text-white backdrop-blur-2xl border border-white/20 shadow-[0_8px_32px_rgba(255,255,255,0.1)]"}
                   ${L?"opacity-80 cursor-wait":""}
                `,children:L?Y.jsxs(Y.Fragment,{children:[Y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):w?Y.jsxs(Y.Fragment,{children:[Y.jsx("span",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),"Disconnect Line"]}):Y.jsxs(Y.Fragment,{children:[Y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6 text-primary group-hover:scale-110 transition-transform",children:[Y.jsx("path",{d:"M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"}),Y.jsx("path",{d:"M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.751 6.751 0 0 1-6 6.709v2.291h3a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1 0-1.5h3v-2.291a6.751 6.751 0 0 1-6-6.709v-1.5A.75.75 0 0 1 6 10.5Z"})]}),"Initiate Call"]})}),Y.jsxs("p",{className:"text-[10px] text-slate-500 text-center uppercase tracking-widest font-bold flex flex-col items-center gap-1",children:[Y.jsx("span",{children:w?"Voice Activity Detected":"Secure Encrypted Connection"}),w&&Y.jsxs("span",{className:"text-primary/70",children:[Math.round(r*100),"% Input Level"]})]})]})]}),Y.jsx("section",{className:"md:hidden col-span-1 h-[400px]",children:Y.jsx(de.Suspense,{fallback:Y.jsx("div",{className:"h-full bg-slate-800 animate-pulse rounded-xl"}),children:Y.jsx(Vh,{barbers:p,services:g})})})]}),S&&Y.jsxs("div",{className:`fixed bottom-8 left-1/2 transform -translate-x-1/2 border shadow-2xl rounded-xl p-4 flex items-center gap-4 z-50 animate-in slide-in-from-bottom-5 fade-in duration-300 backdrop-blur-md
          ${S.type==="warning"?"bg-amber-900/40 border-amber-500/50 shadow-amber-500/20":S.type==="info"?"bg-blue-900/40 border-blue-500/50 shadow-blue-500/20":"bg-slate-800 border-green-500/50 shadow-green-500/20"}`,children:[Y.jsx("div",{className:`p-2 rounded-full ${S.type==="warning"?"bg-amber-500/20 text-amber-500":S.type==="info"?"bg-blue-500/20 text-blue-500":"bg-green-500/20 text-green-500"}`,children:S.type==="warning"?Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"size-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}):Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"size-6",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"font-bold text-white text-sm",children:S.type==="warning"?"Microphone Warning":"Squire Integration"}),Y.jsx("p",{className:"text-xs text-slate-300",children:S.message})]})]}),E&&Y.jsx(de.Suspense,{fallback:null,children:Y.jsx(qR,{history:y,onClose:()=>C(!1),onDelete:h,onRestore:v})})]})},Ug=document.getElementById("root");if(!Ug)throw new Error("Could not find root element to mount to");const PR=u0.createRoot(Ug);PR.render(Y.jsx(t0.StrictMode,{children:Y.jsx(BR,{})}));export{Y as j,de as r};
